本系列的最后一篇文章重点介绍了[***容器化和虚拟化***](https://www.toolsqa.com/docker/understanding-containerization-and-virtualization/)以及它们之间的区别。我们讨论了***docker****如何在容器上工作，为开发人员和系统管理员*提供开发和配置权力。***Docker***使软件能够在不同的容器上运行。在本文中，我们将从*Docker*平台开始讨论。我们将讨论*Docker 架构和**Docker*的各种组件。

以下主题将成为本文的重点：

-   什么是码头工人？
    -   *码头工人的特点*
    -   *Docker 有什么好处？*
-   码头架构
    -   *码头工人工作流程*
    -   *Docker引擎*
    -   *码头工人形象*
    -   *码头集装箱*
    -   *还有，Docker 注册表*
-   我们应该什么时候使用 Docker？
    -   *标准化环境*
    -   *灾难恢复*
    -   *更快、更一致地交付应用程序*
    -   *代码管理*

## 什么是码头工人？

正如我们所知，***容器***是轻量级的组件/对象，我们可以使用它来打包应用程序及其依赖项、库等，并进行部署。***Docker***就是这样一种*容器平台*，我们可以将其定义为具有高级操作系统虚拟化的软件平台，我们可以使用它来创建、部署和运行应用程序。

尽管我们可以在没有 Docker 的情况下创建容器*，但 Docker*简化并加速了应用程序部署或工作流程。使用*Docker*，我们可以选择特定于产品的部署环境，该环境将包含其自己的工具集和应用程序堆栈。*使用Docker*构建的应用程序可以更简单、更轻松、更安全地构建、部署和管理容器。

*Docker*本质上是一个工具包，它使开发人员能够使用*Docker API*提供的简单命令来构建、部署、运行、更新和停止容器。与VM（*虚拟机*）使用的***Hypervisors****不同， Docker*使用容器实现系统级的虚拟化。

下图显示了主机操作系统上 的典型*Docker 系统。*![1-一个Docker系统.png](https://www.toolsqa.com/gallery/Docker/1-A%20Docker%20system.png)

如上图所示，主机上运行着多个应用程序。每个应用程序都运行在一个单独的容器上。容纳每个应用程序的容器也有自己的一组依赖项和库。因此，每个应用程序都独立于其他应用程序。这些应用程序不会相互干扰。所以我们可以准备一个容器，安装和分发不同的应用程序，然后可以运行，可以复制用于验证和其他目的。

*Docker 容器*在隔离环境中的主机系统之上运行。它不会干扰主机系统硬件（*不同于与硬件通信的虚拟机*）。因此，我们可以拥有一个带有 Linux 映像的容器（*在 Hyper-V 的帮助下*）并在装有*Windows 操作系统*的主机上运行。所有应用程序（*APP1、APP2 等*）都作为*Docker 容器*运行。作为 Libs/binary 的一部分的每个容器都包含一个基本/最小的 Linux 操作系统来管理容器内的相互依赖性。

接下来是*Docker 引擎*。*Docker Engine*是应用程序用来与*Docker Daemon*交互的API 。*Docker 引擎*用于运行操作系统。我们可以使用任何*HTTP*客户端访问*Docker 引擎。*

我们将在本文后面详细了解*Docker Engine 。*

### ***码头工人的特点***

下面列出了*Docker 平台*的一些基本功能：

-   *Docker 使用容器提供更小的操作系统占用空间，从而减少开发规模。*
-   *团队可以更多地关注开发、QA、运营等各个部门，使用容器而不是为他们准备系统。因此，使用容器，我们可以跨应用程序无缝工作。*
-   *使用容器的 Docker 应用程序可以部署在物理机、虚拟机甚至云端的任何位置。*
-   *Docker 容器是轻量级的并且易于扩展。它们的维护成本也很低。*

### ***Docker 有什么好处？***

下面给出了*Docker*的一些好处。

1.  *通常，QA 团队必须为应用程序设置一个完整的开发环境，包括它的依赖软件和二进制文件，以测试代码。但是有了 Docker 平台，QA 团队就不需要做所有这些工作了。他们必须运行容器，然后一切就绪。这为他们节省了大量时间和精力。*
2.  *通过将应用程序及其依赖项打包在一个容器中，在此过程中涉及的机器/环境之间的工作环境具有一致性。*
3.  *我们可以毫不费力地增加涉及的系统数量并在它们上面部署应用程序代码。因此，使用 Docker 平台可以轻松确保可扩展性。*
4.  *使用像 Docker 这样的高级工具，可以更快、更轻松地开发、部署和分发应用程序。*
5.  *Docker 平台省时、简单，并且可以很容易地集成到现有环境中。*
6.  *使用 Docker 平台，我们可以在不同位置运行应用程序，无论是物理位置、虚拟位置还是云端（私有或公共）。因此，Docker 是灵活且可移植的。*
7.  *有了 Docker，我们有了更具创新性的应用程序开发、部署和分发解决方案。*

现在让我们继续讨论*Docker 架构*和*Docker 组件*工作流。

## 码头架构

Docker 架构包含以下组件：

-   ***Docker 客户端**——客户端触发与 Docker 主机的交互。*
-   ***Docker 主机**——Docker 主机运行一个 Docker 守护进程和一个 docker 注册表*
-   ***Docker 守护进程**- 是在 Docker 主机内部运行并处理图像和容器的组件。*
-   ***Docker registry** - docker registry 存储 docker 镜像。Docker hub 就是这样一个注册表，但您也可以拥有自己的注册表。*

一个基本的*Docker 架构*图如下所示：![2-A Docker架构图.png](https://www.toolsqa.com/gallery/Docker/2-A%20Docker%20architecture%20diagram.png)

上面的 Docker 架构图显示了上面提到的各个组件相互连接。

1.  *我们有一个运行 Docker 守护进程的 Docker 主机。*
2.  *我们还有一个 Docker 注册表，用于维护 Docker 映像和容器。*
3.  *然后我们还有一个与 Docker Host 通信的客户端。*

上述docker架构图的功能或工作流程如下所述。另外，下面我们来详细了解下***Docker架构***的各个方面。

### ***码头工人工作流程***

当上图中的不同组件相互通信时，将遵循以下步骤。

1.* CLI（客户端）向 Docker 主机发出“构建”命令。然后运行在 Docker Host 上的 Docker 守护进程根据客户端通过命令的输入构建一个镜像。然后这个图像被保存在 Docker 注册表中。注册表可以是本地存储库或 Docker Hub。* 2. *Docker 守护进程可以创建新映像或从 Docker 注册表中提取现有映像。* 3.*最后，Daemon 创建一个 Docker 镜像实例。* 4.*客户端然后发出“**运行**”命令。它触发创建一个容器，然后执行。*

上述步骤描述了典型*Docker*生态系统的简单工作流程。让我们更详细地讨论每个*Docker 组件*。

### ***码头工人引擎***

***Docker 引擎***是*Docker*系统的核心/主要组件。它是开源的，用于与 Docker 进行容器化。docker 引擎安装在主机上。Docker Engine 使用客户端-服务器技术：

-   *它有一个充当服务器的守护进程。Docker 守护进程是一个后台进程。守护进程负责管理镜像、容器、存储卷和网络。*
-   *客户端或命令行界面 (CLI)。*
-   *此外，它还有一个 CLI 客户端使用的 Rest API 和一个用于通信和指示的 Docker 守护进程。*

下图显示了Linux 操作系统上 的*Docker 引擎。*![3-A Docker Engine及其组件.png](https://www.toolsqa.com/gallery/Docker/3-A%20Docker%20Engine%20and%20its%20components.png)

上图显示了*Linux 操作系统中的**Docker 引擎*。

1.  *我们可以看到可以使用终端访问 Docker 客户端。*
2.  *主机系统在 Docker 守护进程中运行。*
3.  *上图还表明 Docker Host 也可以与客户端驻留在不同的机器上。*
4.  *图像构建和容器通过**Rest API**将命令从客户端传递到守护进程来执行。*

***注意**：对于 Windows 或 Mac，Docker 主机中存在一个额外的“**工具箱”组件。**Docker Toolbox 用于在 Windows 或 macOS 上快速安装和设置 Docker 环境。Toolbox 安装所有 Docker 组件，包括 Docker Client、Machine、Compose(for Mac)、VirtualBox、Kitematic 等。*

随着我们继续学习 Docker 教程系列，我们将在接下来的文章中详细讨论这些主题。

### ***码头工人形象***

***Docker Image***构建容器。我们可以将***Docker Image***视为容器的“***源代码***”。图像预装了软件，它们是可移植的，我们甚至可以使用预先存在的图像而不是构建一个全新的图像。所有这些都使部署更加直接和快速。

Docker 镜像是 Docker 容器的构建块，用更简单的术语来说就是 Docker 容器的模板。

我们将在后续文章中详细了解***Docker 镜像***。

### ***码头集装箱***

Docker通过容器实现容器化。如果我们将***Docker 镜像***视为模板，那么***Docker 容器***就是该镜像的副本。所以我们可以有一个图像的多个副本，这意味着各种容器。

容器是 docker 中的组织单元。当我们说我们正在运行或执行 docker 容器时，我们正在运行一个图像。集装箱类比货物集装箱。

就像货物集装箱一样，我们可以打包、移动、运输、修改、创建、管理或销毁软件。

***Docker 容器包含***整个包，包括应用程序代码、依赖项、二进制文件等，以高效运行应用程序而不受任何干扰。

***我们将在我们的 Docker 系列中提出一个关于Docker 容器***的单独主题，该主题将详细讨论 Docker 容器。

### ***码头工人登记处***

***Docker Registry***是一种用于存储 Docker 镜像的存储库。注册表可以是公共的或私有的。公共注册表称为“ ***Docker Hub*** ”，类似于 GitHub 等在线代码存储库。我们还可以将图像私密地存储在 Docker Hub 中，并可供数百万用户访问。

## 我们应该什么时候使用 Docker？

自成立以来，Docker 已被证明是开发人员和系统管理员的绝佳工具。我们可以在 DevOps 周期的多个阶段以及应用程序的快速高效部署中使用它。

使用 Docker，我们可以将一个应用程序及其所有依赖项打包到一个 Docker 容器中，并在多个环境中运行它。Docker 容器为应用程序运行提供了一个隔离的环境，使多个容器在同一主机上同时运行而不会相互干扰。

现在让我们讨论一些可以使用 Docker 的地方。

### ***标准化环境***

Docker 是一个***优秀的持续集成平台***，有助于使开发环境可重复。这种可重复的开发环境确保每个团队成员都在标准环境中工作，并且每个团队成员都知道每个开发阶段的变化和更新。

### ***灾难恢复***

由于意外情况和灾难，软件开发容易面临风险。它可以停止开发周期并招致损失。但 Docker 降低了风险。使用 Docker，我们可以在出现任何问题时轻松复制功能，并将其替换为新平台。或者，如果需要，我们也可以将开发回滚到早期版本或修订版。所以灾难多发的开发环境可以使用Docker。

### ***更快、更一致地交付应用程序***

Docker 是一个便携式平台，有助于更快地部署。它只是将准备好的软件推送到生产环境中。开发人员可以更轻松地使用 Docker 平台完成所有软件开发阶段。

### ***代码管理***

Docker 为代码开发和代码部署提供了一致的环境。它还可以帮助我们标准化开发环境，使每个团队成员都能访问一致的环境。所有这些因素都会导致更好的代码管理。因此，它使系统更加用户友好和可扩展。

## 关键要点

简而言之，Docker是当今流行的用于持续集成和开发的平台。

-   *Docker 允许我们恢复图像或检索以前的版本或功能，从而帮助我们降低软件开发中的风险。*
-   *此外，Docker 由 Docker 客户端 (CLI)、Docker 主机和 Docker 注册表组成。*
-   *Docker Host一般包含一个在后台运行的Docker Daemon进程。Docker 注册表存储 Docker 主机访问的 Docker 映像和容器。*
-   *我们在许多需要标准化环境、高效代码管理、快速错误恢复以及更快、更好性能的应用程序中使用 Docker。*

在我们后续的教程中，我们将详细介绍每个 docker 主题。