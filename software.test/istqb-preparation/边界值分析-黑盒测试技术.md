## 什么是边值分析？

边界值分析( BVA )的基础是测试分区的边界(记住等价分区！)。BVA 是[等价划分](https://www.toolsqa.com/software-testing/istqb/equivalence-partitioning/)的扩展。但是，这仅在分区是有序的(由数字或顺序数据组成)时才可用。一个分区的最小值和最大值是它的边界值。

我们已经看到，在分区边界处发现缺陷的可能性很高(例如，开发人员使用 >10 而不是 >=10 作为条件)。单独的等价划分不足以捕捉到这些缺陷。因此，需要定义一种可以检测分区边界异常的新技术。边界值分析就是这样出现的。

边界值分析可以在所有[测试级别](https://www.toolsqa.com/software-testing/test-levels/)执行，它主要用于一系列数字、日期和时间。

### 如何进行边值分析？

现在我们对边界值分析有了一些了解，让我们了解如何使用这种技术导出测试条件。我们将参考同样的健身房表格示例(请参阅我们关于等价分区的文章)，我们需要在其中输入年龄。

![健身房形式](https://toolsqa.com/gallery/ISTQB%20Certification/1.gym_form.webp)

边界值分析的第一步是创建等价分区，如下所示。

![边界值分析技术](https://toolsqa.com/gallery/ISTQB%20Certification/2.Boundary%20Value%20Analysis%20Technique.png)

现在专注于有效分区，范围从 16 到 60。我们有一个 3 步方法来确定边界：

![边界值分析示例](https://toolsqa.com/gallery/ISTQB%20Certification/3.Boundary%20Value%20Analysis%20Example.png)

-   确定此分区类的确切边界值 - 即 16 和 60。
-   获取比精确 Boundary 小一的 Boundary 值 - 即 15 和 59。
-   获取比精确边界多一的边界值 - 即 17 和 61 。如果我们将它们全部结合起来，我们将得到以下年龄标准边界值的组合。

有效边界条件：年龄 = 16、17、59、60

无效的边界条件：年龄 = 15 61，

很明显，有效边界条件属于有效分区类，而无效边界条件属于无效分区类。

你能弄清楚为什么我们没有使用 16.1、15.9、59.9 和 60.1 作为边界增量和减量值吗？这是一个在大多数文章中解释不足的概念。因此，让我们再举一个例子来解释这一点。假设你在网站上输入你的体重。根据你的体重和身高，该网站会告诉你体重指数 ( BMI )。你可以在重量输入字段中输入 30 到 150 kg 的值。权重输入字段只允许自然数，即正整数！

在这种情况下，如果你将使用相同的方法创建边界 - 你最终会得到

有效边界条件：年龄 = 30、31、149、150

无效边界条件：Age = 29, 151

现在考虑相同的场景，但重量输入字段允许十进制数最多保留 1 个小数位。在这种情况下，边界条件为：

有效边界条件：年龄 = 30、30.1、149.9、150

无效边界条件：Age = 29.9, 150.1

你看到区别了吗？我们取边界两侧的最小可接受值。如果我们将该值设为 30.01，那么我们最终会测试软件的两位小数，其中要求是一位小数。这是一个单独的测试条件，不应与边界值混淆。

一个分区的边界覆盖率的测量可以发生为测试的边界值的数量除以识别的边界测试值的总数。

### 等价划分的边界值分析

我们现在对边界值分析有了一个大致的了解。那么，让我们看看如何将它与等价分区结合起来，得到一整套测试条件。

回到我们之前的示例，让我们再次查看图表。

![等价分区技术示例](https://toolsqa.com/gallery/ISTQB%20Certification/4.Equivalence%20Partitioning%20Technique%20Example.png)

范围是 16 - 60，边界值分析给我们的测试条件为 15、16、17、59、60、61。如果你仔细看，你不认为我们已经通过覆盖覆盖了有效等价划分向上 17、59 和通过覆盖 15 和 61 的无效等价分区？毕竟等价分区说我们应该选择一个介于 16-60 之间的数字来表示有效分区，小于 16 或大于 60 表示无效分区。那么，如果边界值已经涵盖了等价划分，为什么我们需要将划分作为一种单独的技术呢？这是一个大多数人都不清楚的概念，也没有多少文章解释清楚。

理论上，Boundary value 确实已经覆盖了 Equivalence partition，但是我们仍然需要一个 partition。如果我们只应用边界值，并且它失败了，我们将永远不知道是边缘条件失败，还是整个分区失败。让我们借助一个例子来理解它。继续我们的健身房表格，假设开发人员编写了以下逻辑：

If (age < = 17 ) Then 不允许 Gym Membership

If (age > 60) Then 不允许健身房会员资格

如果你看逻辑，你会意识到逻辑应该是 If ( age <17 )，但是开发者添加了 = 错误的符号。你是否也意识到缺少整个有效分区的逻辑？如果 (age>=16 and age <= 60) 则允许 Gym 会员资格！

如果我们只使用边界条件值 17，它将导致测试执行失败。但是，它不会告诉你边界条件是否失败或整个分区是否失败。因此，必须使用 Equivalence 分区值，它不是边界值。在这种情况下，如果我们使用值 20，它将导致执行失败。它将清楚地表明开发人员错过了实现整个分区。

因此，如果我们结合边界值和等价分区，我们的测试条件将是：

有效边界条件：年龄 = 16、17、59、60

无效的边界条件：年龄 = 15、61

有效等价分区：Age = 25

无效的等价分区：Age = 5 , 65

### BVA 的陷阱

在应用边界值和等价划分之后，我们可以自信地说我们得到了所有需要的覆盖吗？不幸的是，事情没那么简单！边界值和等价划分假定应用程序不允许你输入任何其他字符或值。此类字符，如@ 或负值甚至字母，将不允许输入。但是，此假设并非对所有应用程序都有效，在我们可以说该字段值完全正常工作之前，必须对其进行测试。

除此之外，我们可能会遇到输入值取决于另一个值的决定的情况。例如，如果 Gym 表单具有另一个字段 Male 和 Female，则年龄限制将根据该选择而有所不同。单独的边界值无法处理这种变化，这导致我们使用另一种称为决策表测试的黑盒技术。我们将在下一篇文章中详细讨论。敬请关注！