上一篇教程向我们介绍了分支的创建以及如何在分支之间快速切换。在计算机技术中，如果你可以创造一些东西，该技术还提供了一种删除/删除它的方法。它是本教程的关键。我们将学习如何在 Git 中删除分支以及：

-   为什么要删除分支？
-   Git 删除分支
    -   如何删除本地分支？
    -   如何删除远程分支？

## 为什么要删除分支？

我相信你在开始本教程时一定会想到这个想法。“你为什么要删除 Git 中的一个分支？ ”或者“你应该什么时候删除 Git 中的一个分支？ ” 很自然地想到这些问题。此外，在实际进行“如何”部分之前，应该了解逻辑。

将分支视为一种思想，一种想法。假设你正在从事某个项目，并且你对一项新功能有所了解。你创建了一个新分支并开始处理它。在实现你的想法、测试它并与 master 合并之后，你就完成了该分支上的工作。这是一个简单的过程。你可以继续从存储库中删除新创建的功能分支。将分支机构固定在你的帐户中对你的项目旅程没有任何实际意义。如果没有，它们会增加复杂分支链的负担，这些分支链将随着你深入项目而发展。

有人可能会认为分支会帮助用户跟踪历史，如果需要任何历史背景，它会带你回到很久以前开发的功能。在现实生活中，确实如此。你永远不知道什么时候可能需要返回到很久以前开发的功能。但是，也可以借助Git中的“标签”来解决这个问题。我们有一个完整的章节专门介绍你可以探索的标签。简而言之，标签需要标记一次提交，以便你可以返回它、探索它并记住该提交发生的原因。

以下图像序列显示了相同的场景。一个用户有两个分支，他们同时在这两个分支上工作。

![从 Master 创建两个功能分支](https://www.toolsqa.com/gallery/Git/1.Create%20Two%20feature%20branches%20from%20Master.png)

用户完成所有操作后，他们将 Branch 1 合并到 master 分支。

![将一个功能分支合并到主分支](https://www.toolsqa.com/gallery/Git/2.merging%20one%20feature%20branch%20to%20master%20branch.png)

用户现在可以删除分支并继续使用当前正在开发的分支。

![删除分支](https://www.toolsqa.com/gallery/Git/3.Delete%20branch.png)

我们现在可以继续从本地系统中删除分支。请注意，删除分支不会导致任何代码丢失(除非你尚未合并它们)。

## Git 删除分支

在本节中，我们将讨论从本地系统删除分支并将它们推送到远程存储库。除此之外，我们还将突出显示从我们的远程存储库中删除分支的情况。

### 如何删除本地分支？

在我们开始删除本地分支之前，首先，使用以下命令列出本地存储库中的所有分支：

```
git branch
```

![显示所有本地分支](https://www.toolsqa.com/gallery/Git/4.Display%20all%20the%20local%20branches.png)

现在我们可以继续了。要删除本地系统上的分支，请按照以下简单步骤操作：

输入以下命令：

```
git branch -d <branch_name>
```

![git删除分支的命令](https://www.toolsqa.com/gallery/Git/5.command%20to%20delete%20branch%20in%20git.png)

注意：此处使用的“ d ”标志指定我们打算删除一个分支。

请注意，我们目前在“ prod ”分支上，并试图通过命令删除同一分支。执行命令，看看是否有效。

![分支删除错误](https://www.toolsqa.com/gallery/Git/6.branch%20delete%20error.png)

Git 给我们一个分支无法删除的错误。出现此错误是因为我们正试图删除我们正在处理的分支。Git 建议我们从此分支“签出”并再次尝试删除。你可以像练习一样尝试。它会顺利工作。

或者，用户也可以使用`git branch -D <branch_name>`强制删除分支而不检查分支的合并状态。这样做，即使分支没有合并进来，Git 也不会给出任何警告。

执行命令删除名为prod的分支。

![成功删除分支](https://www.toolsqa.com/gallery/Git/7.deleted%20branch%20successfully.png)

通过键入以下命令在本地重新检查可用分支：

```
git branch
```

![列出本地分支机构](https://www.toolsqa.com/gallery/Git/8.List%20local%20branches.png)

好吧！我们已经成功删除了“ prod ”分支。但这只能在本地机器上完成。你也可以尝试通过本地机器删除远程存储库上的分支。

### 如何删除远程分支？

在我们开始删除远程分支之前，我们应该查看远程存储库中的所有分支。输入以下命令并执行：

```
git branch -a
```

![显示所有远程分支](https://www.toolsqa.com/gallery/Git/9.Display%20all%20the%20remote%20branches.png)

可以看到，这个仓库关联了很多远程分支，其中最后一个是prod分支。我们将在接下来的步骤中尝试删除相同的分支。

你可以继续选择任何分支；在这一部分，我们将继续删除“ prod ”分支。为此，执行以下命令：

```
git push <remote_repo_name> --delete <branch_name>
```

![删除远程分支](https://www.toolsqa.com/gallery/Git/10.delete%20remote%20branch.png)

执行命令从远程仓库中删除名为 prod 的分支。

![远程分支删除成功](https://www.toolsqa.com/gallery/Git/11.remote%20branch%20deleted%20success.png)

一旦分支删除，我们就会收到来自 Git 的成功消息：

[删除]     <branch_name>

你还可以通过再次列出所有远程分支来确认这一点。

![列出所有远程分支](https://www.toolsqa.com/gallery/Git/12.List%20all%20the%20remote%20branches.png)

[Git](https://git-scm.com/)确认删除分支。那么现在，我们已经学会了如何通过 Git 在本地和远程删除一个分支。它使我们结束了本教程。在下一个教程中，我们将讨论合并和创建拉取请求。你还可以探索本课程的 GitHub 部分，以在 GitHub 的帮助下远程了解有关删除、创建和拉取请求的更多信息。在那之前，继续练习。

## 练习练习：

-   在本地创建一个名为“ Bug-Patch ”的分支。
-   切换到分支并通过创建新文件等进行一些更改。
-   提交这些更改并查看“ Bug-Patch ”分支的Git 日志文件。
-   将此分支推送到远程存储库。
-   查看所有远程和本地分支以确认。
-   从 Git 本地删除这个分支。
-   从远程存储库中删除此分支。

## 分支删除的常见问题

删除分支是否也会删除关联的提交？

不，分支只是对提交的引用。删除分支不会对提交产生任何影响，它们仍将在存储库中可用。

master分支可以删除吗？

master分支只是版本库中的一种分支，也是默认的默认分支。但是，作为 Git 中的规则，不能删除默认分支。因此，要先删除 master 分支，用户必须更改默认分支。(请参阅如何更改 Git 中的默认分支)。

我们可以恢复删除的分支吗？`git reflog`是的，你可以通过命令 恢复已删除的分支Reflog 是 Reference Logs 的缩写，它记录了版本库中分支和其他引用发生更新的时间点。可以通过返回到特定日志来恢复分支。