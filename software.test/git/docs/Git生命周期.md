到现在为止，我们已经了解了 Git 是什么以及如何创建 Git 存储库。快速浏览一下 Git 存储库中文件的生命周期会很棒。在更详细地了解 Git 之前，对 Git 的不同阶段有一个抽象的概念对我们来说很重要。在本教程中，希望你创建Git 生命周期中不同阶段的思维导图。

在继续本教程之前，先阅读以下教程会很有帮助：

-   [什么是 Git 和 Github？](https://toolsqa.com/git/difference-between-git-and-github/)
-   [如何创建一个新的 Git 仓库？](https://toolsqa.com/git/create-git-repository/)

## GIT 生命周期中的阶段

Git项目中的文件有创建、修改、重构和删除等多个阶段。不管这个项目是否被 Git 跟踪，这些阶段仍然很普遍。但是当一个项目处于 Git 版本控制系统下时，除了这些基本状态之外，它们还存在三种主要的 Git 状态。以下是三种 Git 状态：

-   工作目录
-   暂存区
-   Git 目录

这些阶段是 Git 的精髓。由于文件可以驻留在 Git 下的这些阶段，你可以非常灵活地跟踪文件。让我们一一了解这些状态。

### 工作目录

考虑驻留在本地系统中的项目。Git 可能跟踪也可能不跟踪该项目。在任何一种情况下，该项目目录都称为你的工作目录。

工作目录是包含隐藏 .git 文件夹的目录。

![Git 热度](https://www.toolsqa.com/gallery/Git/1%20Git%20Init.png)

注意： git init -初始化 Git 存储库的命令

为了进一步讨论，我们假设该目录现在由 Git 跟踪。也就是说，我们已经在这个现有的项目目录中创建了一个 Git 存储库。[因此，正如创建 Git 存储库](https://toolsqa.com/git/create-a-new-git-repository/)教程中所讨论的那样，其中初始化了一个隐藏的 .git 文件夹。在这种状态下，Git 只知道项目中的文件。它还不跟踪文件。要跟踪文件，我们必须首先将文件添加到暂存区来提交这些文件。这将我们带到 Git 生命周期的下一个状态。

### 暂存区

当我们在工作目录中时，我们选择必须由 Git 跟踪的文件。为什么我们需要这个？为什么我们不跟踪项目中的所有内容？这是因为项目中的一些文件，如类文件、日志文件、结果文件和临时数据文件是动态生成的。跟踪这些文件的版本没有意义。而源代码文件、数据文件、配置文件和其他项目工件包含应用程序的业务逻辑。这些文件将被 Git 跟踪，因此需要添加到暂存区。

换句话说，暂存区是你分组、添加和组织要提交给 Git 以跟踪其版本的文件的游乐场。

在这里快速记下称为索引的术语很重要。索引是将文件添加到暂存区的过程。换句话说，索引由添加到暂存区的文件组成。这个术语将在接下来的Git 术语教程中再次解释。

![添加](https://www.toolsqa.com/gallery/Git/2%20Git%20Add.png)

注意： git add -命令将文件添加到暂存区。

### Git 目录

现在要提交的文件已在暂存区中分组并准备就绪，我们可以提交这些文件。因此，我们提交这组文件以及一条解释提交内容的提交消息。除了commit message，这一步还记录了commit的作者和时间。现在，Git 记录了提交中文件的快照。与本次提交相关的信息(提交的文件名、提交的日期和时间、提交的作者、提交消息)存储在 Git 目录中。

因此，Git 目录是跟踪项目文件历史元数据的数据库。

![Git 提交](https://www.toolsqa.com/gallery/Git/3%20Git%20Commit.png)

注意： git commit -m"your message" -命令将文件与消息一起提交到 Git 存储库。

### Github 的附加生命周期阶段

现在请注意，我们正在专门学习 Git 中的生命周期。也就是说，重要的是要注意上面讨论的三个阶段仅适用于 Git 而不是 Github。为什么？因为正如[什么是 Git 和 Github 的教程中所解释的那样？](https://toolsqa.com/git/difference-between-git-and-github/) 你可以仅使用 Git 来跟踪文件的版本。也就是说，当你想协作并将你的代码发布到团队或社区时，就需要 Github。因此，记住 Git 周期通常不涉及 Github 是有帮助的。

但是，我们在团队中工作，并在给定项目中与多人协作。这使得了解与 Github 相关的附加平台势在必行。在处理 Github 时，有一个Remote repository的概念和一个称为Pushing the files 的相关过程。

![Git 生命周期](https://www.toolsqa.com/gallery/Git/4%20Git%20Life%20Cycle.png)

如上图所示，将代码提交到本地 Git 存储库后，必须将其推送到远程存储库。这里，Remote repository 是指 Github 中本地 Git 仓库的镜像或克隆。推送意味着将提交从本地 Git 存储库上传到托管在 Github 中的远程存储库。这将允许其他协作者查看代码。因此，当你将代码推送到远程存储库时，你在本地 Git 存储库中所做的任何更改都将对其他协作者可见。在 Github 中将代码推送到远程仓库的命令是git push。

注意： git push -将提交从本地 Git 存储库推送到托管在 Github 中的远程 Git 存储库的命令。

### 需要暂存区

了解了这些stage之后，自然会有人问——为什么需要staging area？为什么我们不能直接提交代码而不是先将其添加到暂存区？让我们借助以下几点来了解这背后的原因：

-   更快的 Git 操作 - 暂存文件在非常快速的 Git 操作中定期产生。提交本质上是与 Git 数据库的资源消耗型交互。对于那些有 SVN(基于客户端-服务器模型的 VCS)背景的人来说，知道每次提交都需要相当长的时间。这是因为它必须先遍历SVN提交树，检查在我们最后一次提交之前是否有其他用户进行过任何提交。因此，提交操作往往很慢。但是，对于 Git，暂存文件不需要与 Git 数据库交互。只有当必须提交文件时，Git 才会检查是否存在其他用户所做的提交。因此，暂存有助于在将更改提交到 Git 数据库之前记录更改。
-   在实际提交之前可视化提交- 如前所述，暂存区是文件在提交之前所处的状态。也就是说，暂存区实际上让你可视化将由 Git 记录的更改组。从本质上讲，这使你可以细粒度地控制什么提交给 Git，什么不提交。
-   将工作拆分为单独的相关提交- 除了一次提交所有项目文件时的第一次提交外，你应该定期记录(拍摄项目快照)。也就是说，假设你正在开发一项开发时间表需要几天的新功能。因此，当你处理该功能时，你需要重构一小部分代码。在这种情况下，你可以快速进行所需的更改、暂存所需的文件并恢复该功能的工作。所有更改，即功能更改和重构代码，都可以从临时区域立即提交。

考虑到这一背景，现在让我们继续学习下一个教程中与 Git 相关的一些重要术语。