## 1. 概述

[Web 缓存](https://en.wikipedia.org/wiki/Web_cache)(或 HTTP 缓存)包含存储一段时间的网站版本。内容可以包括 HTML 页面、图像、视频、CSS 文件和 JavaScript 文件。

在本教程中，我们将学习网络缓存、它的优点、不同类型的网络缓存，以及如何使用 HTTP 标头控制网络缓存。

## 2. 什么是网络缓存？

Web 缓存位于网站的原始服务器和客户端之间，并存储通过网络传输的服务器响应的副本。保存的响应称为 表示，表示特定时间的网站版本。之后，如果另一个具有相同 URL 的请求经过，它会在不涉及源服务器的情况下发送存储的表示：

![网页缓存](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/Web-Cache.png)

因此，有两种可能的结果：

-   缓存命中是指 Web 缓存在不涉及源服务器的情况下满足用户发送的请求。
-   缓存未命中是指网络缓存无法满足用户发送的请求。

## 3. Web缓存的优势

Web 缓存有很多优点：

### 3.1. 网站加载速度更快

内容由缓存提供，缓存通常更靠近最终用户，而不是原始服务器。结果，它到达客户所需的时间更少，并且网站加载速度更快。

### 3.2. 托管成本降低

Web 托管提供商对传入和传出源服务器的数据量收费。但是使用网络缓存，由于内容被存储和重复使用，更少的数据传输到源服务器或从源服务器传输。因此，降低了托管成本。

### 3.3. 减少服务器的负载

由于网络缓存满足了许多请求，因此它们不会到达源服务器。结果，减少了源服务器上的负载。

### 3.4. 网站内容更可用

如果原始服务器出现故障，内容在 Web 缓存中仍然可用，最终用户可以访问它。因此，网站内容的可用性更高。

## 4. 网络缓存的类型

Web 缓存主要分为三种类型：

### 4.1. 浏览器缓存

这种类型的网络缓存存储在客户端的浏览器中。它们是一种私有缓存，因为它们属于单个用户。用户还可以选择更改浏览器设置并禁用此类网络缓存：

![浏览器缓存](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/Browser-Cache.png)

### 4.2. 代理缓存

代理缓存是一种 为大量用户提供服务的共享缓存，通常由大公司和 ISP 设置，用于存储和提供 Web 内容。此外，由于它们是服务器，因此它们比浏览器缓存更易于配置：

![代理缓存](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/Proxy-Cache.png)

但是，由于它们不是源服务器或客户端的一部分，最终用户必须自己配置连接才能使用这些代理。另一种方法是使用拦截代理，它通过网络本身接收用户请求，而不需要用户配置。

### 4.3. 网关缓存

这种类型的网络缓存位于源服务器和客户端之间，网站管理员自己将它们配置为接收用户请求以代替源服务器。

例如，[内容分发网络](https://www.baeldung.com/cs/cdn)(CDN) 是一组在地理上分布在最终用户和源服务器之间的服务器。他们使用网关缓存来提供更快的内容交付：

![内容分发网络](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/CDN.png)

## 5. 如何控制网络缓存

我们可以使用 HTTP 标头，更具体地说是 HTTP 响应标头，来控制缓存过程。

### 5.1. 过期标头

expires标 头告诉网络缓存响应新鲜的时间。之后，响应(或表示)将被视为 陈旧的：

![到期](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/expires.png)

尽管 expires标头很容易使用，但它有一些限制。cache-control header 更适合控制 web 缓存，也更灵活。 

### 5.2. 缓存控制头

cache-control header 是另一个 HTTP 响应头，它没有 expires的 限制，也可以接受多个值：

![缓存控制](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/cache-control.png)

## 六，总结

在本文中，我们了解了 Web 缓存及其优势。我们还了解到，尽管 CDN 使用缓存，但并非每个缓存都是 CDN，还有其他类型的 Web 缓存。