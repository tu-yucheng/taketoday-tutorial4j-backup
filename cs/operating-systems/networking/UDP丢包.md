## 1. 概述

在本教程中，我们将讨论计算机网络中的数据包丢失。

我们将探讨用户数据报协议 (UDP) 中数据包丢失的主要原因。

## 2.UDP简介

通过[广域网 (WAN)](https://en.wikipedia.org/wiki/Wide_area_network)传输的网络中的信息利用[UDP](https://www.baeldung.com/cs/udp-vs-tcp)来实现多种网络应用，例如视频和音频流。UDP 是一种无连接协议。此外，UDP 减少了[网络延迟](https://www.baeldung.com/cs/packet-time-latency-bandwidth)。此外，它不包括[握手](https://en.wikipedia.org/wiki/Handshaking) ，并且不需要在源和目标之间建立连接。

但是，使用UDP 传输信息不能通过通信过程提供[流量控制。](https://www.baeldung.com/cs/tcp-flow-control-vs-congestion-control)因此，使用 UDP，我们无法检测到丢失的数据包。因此，不可能重传丢失的数据包。

实时应用主要使用UDP。但是，数据包丢失而未被检测到会使 UDP 成为不可靠的协议。使用 UDP 时，数据包丢失是网络中的主要挑战之一。此外，由于 UDP 中没有错误控制机制，一旦检测到错误，它就会简单地丢弃数据包。此外，使用 UDP 传输大量数据可能会导致网络拥塞。

另一方面，UDP 最小化[传输延迟](https://www.baeldung.com/cs/propagation-vs-transmission-delay)。此外，它不需要在发送方和接收方之间建立连接。此外，它还提供广播和多播传输。UDP 使用一个小的报头。因此，处理数据包所需的时间更少。

## 3. 网络丢包

现在，为了调查任何网络通信中数据包丢失的核心原因，让我们从网络的不同层开始讨论。基于[OSI 模型](https://www.baeldung.com/cs/osi-model)，任何网络设备都可以通过七层相互通信：应用层、表示层、会话层、传输层、网络层、数据链路层和物理层。每一层负责执行特定功能：

![sdascas.drawio文件](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/sdascas.drawio.png)

在 7 层中，数据传输是网络层的一部分。虽然，传输层负责数据包的完整传递。通常，丢包是指数据通过网络传输但无法到达目的地。因此，有几个因素会导致数据包丢失，包括从源到目的地的大量连接、软件/硬件问题和网络攻击。

OSI 模型中的传输层支持面向连接和无连接协议来传送数据包。它使用[传输控制协议 (TCP)](https://www.baeldung.com/cs/tcp-max-packet-size)进行面向连接，使用用户数据报协议 (UDP) 进行无连接传送服务。TCP 建立连接，将数据包分成段，并为所有段添加一个序列号。因此，如果任何段在传输过程中丢失，接收方请求发送方重新传输特定段。

UDP 在开始传输数据包之前不需要建立连接。此外，它不支持任何重传方法。此外，UDP 数据包的结构不支持编号，因此无法从接收端确定丢失数据包的数量。因此，UDP 是不可靠的，并且无法保证数据包的端到端传递。

## 4. UDP丢包

假设发送方向接收方发送n个数据包。接收方收到了 m 个数据包。如果 ![米 < ñ](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-c0b517fbb581cab0e1fe8e65fdd3ddb9_l3.svg)，则网络中存在数据包丢失。UDP协议完全依赖于网络栈，包括硬件和软件系统。UDP 中丢包的主要原因有六个：网络拥塞、硬件问题、软件故障、连接问题、漏洞和基础设施故障：

![数据包丢失](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/packetloss.png)

### 4.1. 网络拥塞

网络拥塞是 UDP 丢包的主要原因，因为每个通信网络都有流量限制。例如，网络拥塞类似于道路上的交通拥堵，超过给定道路上允许的最大车辆数量可能会导致交通在高峰时段减慢或停止。

网络拥塞会增加数据包到达目的地所需的时间。因此，它可能会导致网络延迟增加。此外，服务器会等待特定的时间以接收数据包。由于高延迟，如果数据包未在指定时间到达，我们可能会面临连接超时。

此外，当网络流量达到其较高的连接阈值时，UDP 数据包的传输会因高延迟而中断。由于UDP 应用程序不是为检索或重新发送丢弃的数据包而构建的，因此会发生数据包丢失。

### 4.2. 硬件问题

为了保持安全性和性能，网络硬件的升级至关重要。硬件，如[路由器](https://www.baeldung.com/cs/routers-vs-switches-vs-access-points)，通过实现各种功能(包括数据包路由和流量管理)来防止未经授权的数据包进入网络。[防火墙](https://www.baeldung.com/cs/firewalls-intro)是网络中过滤传入和传出数据的另一个重要组件。

但是，过时的组件会大大削弱网络传输速度并导致数据包丢失。不幸的是，一些公司忽视了对硬件进行现代化改造的必要性，从而导致数据包丢失和连接中断。因此，及时升级硬件和引入现代硬件组件对于减少数据包丢失和维护安全性至关重要。

### 4.3. 软件故障

在网络传输期间，同时进行的不需要的操作会减慢数据包的传输速度。软件错误与硬件有关。在有故障的硬件上运行的软件可能会导致一些问题，包括数据包丢失。因此，定期监控网络硬件至关重要。有时修复或升级硬件会自动修复软件错误。

此外，网络中的软件错误或故障可能会导致传输失败。UDP 传输可能会由于行为故障(例如[死锁](https://www.baeldung.com/cs/deadlock-livelock-starvation)、[可达性故障](https://www.baeldung.com/cs/deadlock-livelock-starvation)、[缺乏活性操作](https://www.baeldung.com/cs/deadlock-livelock-starvation)和[互斥](https://www.baeldung.com/cs/deadlock-livelock-starvation))而中断。软件故障的检测需要软件工程师应用不同的测试、验证和验证，这是一项昂贵的任务。

大多数实施UDP 应用程序的公司不包括软件的测试程序，这可能会增加UDP 操作处理过程中丢包的可能性。

### 4.4. 连接问题

网络连接影响通过网络传输的数据包。有线和无线连接会对信号质量产生积极和消极的影响。使用无线连接的一些应用包括闭路电视摄像机、智能视频门铃和带 WiFi 的智能插座。此类应用程序利用 UDP 进行信息传输。但是，无线信号会遇到物理中断，从而损害连接网关的设备。

现在让我们谈谈在无线传输中可能导致数据包丢失的环境中的障碍。金属、混凝土墙、金属板条、瓷砖、有色玻璃、镜子和石膏板是可能导致网络数据包丢失的环境示例。

障碍物的多样性有助于阻挡信号。因此，无线连接可能会导致数据包丢失，因为 UDP 协议依赖于连续的数据流。但是，与无线介质相比，有线介质中的数据包丢失要少得多。

### 4.5. 漏洞和威胁

由于网络攻击和威胁，网络中的数据包丢失可能会发生。让我们来谈谈一种流行的网络攻击：[分布式拒绝服务 (DDoS)](https://www.baeldung.com/cs/dos-vs-ddos-attacks)攻击。它就像打开一个终端并对设备的特定[IP 地址](https://www.baeldung.com/cs/ipv4-vs-ipv6)执行 ping 命令一样简单。它会导致系统关闭一段时间。

因此，如果在数据包传输过程中发生 DDoS 攻击，所有信息都可能丢失。因此，用户可能无法访问文件、电子邮件或共享作品。当系统充满安全威胁时，数据包丢失可能具有挑战性。

通过定期更新系统的软件和硬件，可以降低威胁带来的风险。

### 4.6. 基础设施故障

工程师有时会通过绑定设备来实现一些应用，可能导致系统的整体性能达不到应用的要求。因此，这些情况可能会产生瓶颈，导致操作时间延长，包括 UDP 数据包流。

有故障的基础架构会导致性能下降、配置错误、突然的硬件故障、服务器问题和资源故障。

## 5.总结

在本教程中，我们讨论了 UDP 中数据包丢失的几个原因。为了使UDP 中的丢包最小化，必须减少传输UDP 数据包的网络的故障。

我们谈到了各种预防措施，以避免丢包。我们可以通过升级软硬件、分析系统性能、聘请专家检测漏洞来防止丢包。此外，持续的系统基础设施监控减少了 UDP 中的数据包丢失。