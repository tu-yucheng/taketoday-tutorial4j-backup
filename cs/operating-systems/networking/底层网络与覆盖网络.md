## 1. 概述

在本教程中，我们将研究底层网络和覆盖网络之间的差异。 网络和 Internet 本身依赖于多种物理和逻辑资源才能正常工作。综上所述，我们可以认为这些资源是在overlay和underlay网络中维护和提供的。

要了解底层网络和覆盖网络之间的差异、相似点和关系，我们将首先了解有关现代计算机网络的背景概念。然后，我们将特别探讨底层和覆盖网络的一些基本概念并检查一些示例。最后，我们将在系统总结中比较这些概念。

## 2. 现代网络如何工作

现代网络非常复杂，需要大量物理和逻辑资源才能按预期工作。在核心网络中，我们发现了不同的设备，通常称为物理设备。这些设备处理网络流量转发。使数据从一个点移动到另一个点是网络的基本任务和目标。

此外，在先前介绍的上下文(通常称为核心网络)中处理了多个网络协议。使数据在网络中传输最重要的是与[OSI 模型](https://www.baeldung.com/cs/osi-model)的较低层有关。突出的例子如下：

-   数据链路层：点对点协议 (PPP)、[地址解析协议](https://www.baeldung.com/cs/popular-network-protocols#address-resolution-protocol-arp)(ARP)
-   网络层：[互联网协议](https://www.baeldung.com/cs/ipv4-vs-ipv6)(IPv4、IPv6)、[互联网控制消息协议](https://www.baeldung.com/cs/popular-network-protocols#internet-control-message-protocol-icmp)(ICMP)
-   传输层：[传输控制协议](https://www.baeldung.com/cs/udp-vs-tcp)(TCP)、[用户数据报协议](https://www.baeldung.com/cs/udp-vs-tcp)(UDP)

在核心网之上，我们有多台服务器来提供数据和服务。这些服务采用其他网络协议，这些协议通常与网络中的数据传输没有直接关系，但与如何读取和处理已经在其目的地点的这些数据有关。

然而，这些协议包含在 OSI 模型的较高层，即所谓的软件层： 会话层、表示层和应用层。此类协议的示例包括[超文本传输协议](https://www.baeldung.com/cs/http-versions)(HTTP)、[文件传输协议](https://www.baeldung.com/cs/popular-network-protocols#12-file-transfer-protocol-ftp)(FTP) 和简单邮件传输协议等。

## 3.底层网络

总之，底层网络是指使帧和数据包能够从一个点转发到另一个点的所有物理基础设施。换句话说，我们可以将底层网络理解为可以与网络设备连接和通信的“场所”。

在底层网络的设备中，我们可以引用交换机、路由器和电缆设施基础设施。因此，我们可以将底层网络视为可用的网络拓扑。

这样一来，正如上一节所述，底层网络指的是核心网络，因此发生在OSI模型的前三层：物理层、数据链路层和网络层。

此外，我们可以假设 OSI 模型的第四层(传输)具有一些将其包含在核心网络中的特征。然而，该层实际上充当底层网络和覆盖网络之间的过渡层。

下图描绘了网络拓扑并突出显示了使其成为底层网络的各个方面：

![垫层](https://www.baeldung.com/wp-content/uploads/sites/4/2022/11/Underlay.png)

关于底层网络的一大挑战是它的移动性和可扩展性。 在大多数情况下，底层网络是硬件编排的。因此，由于需要在物理上使用网络设备，因此很难重新组织网络拓扑并添加新节点。

然而， [网络功能虚拟化](https://www.baeldung.com/cs/network-function-virtualization) 和 [软件定义网络](https://www.baeldung.com/cs/software-defined-networking)等新的网络范式旨在将底层网络从其传统的硬件平面转移到软件平面。这些范例的目的是提高底层网络的灵活性。

最后，需要强调的是，支持底层网络的协议主要与以太网交换、路由等相关。

## 4.覆盖网络

简而言之，覆盖网络提供软件驱动的网络流量传输，在底层网络上运行并抽象出流量转发的低级细节。基本上，我们可以说覆盖网络实现了虚拟网络的概念。

我们可以将虚拟网络定义为底层网络提供的资源的抽象。因此，可以使用相同的物理基础设施来构建不同的虚拟网络(即创建虚拟网络不需要改变底层网络)。

通过这种方式，覆盖网络使运营商和管理人员能够使用相同的网络基础设施来创建多个逻辑网络，甚至可以在 Internet 上创建虚拟网络，连接部署在不同物理网络中的设备。

下图显示了在预先存在的底层网络中构建的覆盖网络的表示：

![覆盖](https://www.baeldung.com/wp-content/uploads/sites/4/2022/11/Overlay.png)

存在多种协议用于在覆盖网络中传输数据。其中最著名的是第 2 层和第 3 层(OSI 模型)隧道：

-   VXLAN：一种封装协议，用于在底层网络层(物理)上扩展数据链路连接(虚拟)
-   GRE：一种封装协议，可以在公共网络(如因特网)中实现主机之间的点对点通信
-   IPSec：一种保护覆盖网络中通信的协议。例如，它支持数据认证、机密性和完整性

考虑到前面介绍的协议，我们可以创建不同类型的虚拟网络。 我们可以引用 [虚拟专用网络](https://www.baeldung.com/cs/vpn) (VPN) 和 [虚拟局域网](https://www.baeldung.com/cs/vlan-intro) (VLAN) 作为相关示例。

需要强调的是，由于覆盖网络是基于软件的，因此它们比硬件替代方案灵活得多。因此，改变虚拟网络的抽象网络拓扑并不像在底层网络环境中那样具有挑战性。

然而，虚拟网络通常会强加额外的进程来启用流量转发。 示例是封装和加密过程。这些过程可能代表一系列开销，这些开销可能会增加延迟并降低联网系统中的吞吐量。

## 五、系统总结

随着网络的普及，其基础设施变得越来越复杂，以完成不同用户的需求。因此，如今，网络是支持数据交换和服务提供的软件和硬件资源的复杂组合。

底层网络和覆盖网络的概念被用来组织和创建网络物理和虚拟环境之间的清晰边界。

底层网络是指所有支持流量从一个点转发到另一个点的物理基础设施。它包括所有网络功能设备，除了用于通信它们的电缆和其他传输方式。因此，当我们谈论底层网络时，我们谈论的主要是 OSI 模型的前三层(以及第四层，在某些方面)。

反过来，覆盖网络代表底层网络上的抽象层。通过这一层，我们可以创建虚拟网络直接连接不在同一物理网络中的机器。此上下文中的一个相关概念是隧道，这意味着通过公共基础设施传输私有数据，保证其安全性、隐私性和完整性。

下表总结并比较了 underlay 和 overlay 网络的一些特征：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-373d1f76167b9333dc3942b293e6e4bb_l3.svg)

## 六，总结

在本教程中，我们研究了底层网络和覆盖网络。 首先，我们简要回顾了现代网络的工作原理。因此，我们专门探讨了底层网络和覆盖网络的特征。最后，我们概述了调查的概念，并在系统总结中比较了底层和覆盖网络。

我们可以得出总结，底层网络对于使通信——以及整个互联网——在数字世界中发生至关重要。然而，覆盖网络成为正确组织这些通信的关键资源，使得创建虚拟网络并将不同的网络基础设施连接为一个单一网络成为可能。