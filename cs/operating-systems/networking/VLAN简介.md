## 1. 概述

虚拟[局域网](https://study-ccna.com/what-is-a-vlan/)(VLAN) 是一个概念，我们在逻辑上将局域网划分为多个较小的网络。在本教程中，我们将探讨和讨论 VLAN 的各个方面。

## 2、什么是VLAN？

在典型的 LAN 中，工作站通过集线器或中继器连接。这些设备在整个网络中传播传入数据。但是，如果两个人同时发送数据，则会发生冲突，所有传输的数据都会丢失。此外，为了防止碰撞进一步传播到所有工作站，使用了桥接器或交换机。

![VLAN PhysicalView LAN-1](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/VLAN-PhysicalView_LAN-1.png)

工作站、集线器和中继器共同构成一个 LAN 网段。LAN 网段也称为冲突域，因为冲突保留在该网段内。限制广播和多播的区域称为广播域或 LAN。因此，一个 LAN 可以由一个或多个 LAN 网段组成。

在 LAN 中定义广播域和冲突域取决于工作站、集线器、交换机和路由器如何物理连接在一起。这意味着 LAN 上的每个人都必须位于同一区域。

VLAN 允许网络管理员在逻辑上将 LAN 划分为不同的广播域(如下图所示)。由于这是逻辑分段而不是物理分段，因此工作站不必在物理上位于一起。同一建筑物不同楼层，甚至不同建筑物的用户现在可以属于同一个局域网。

![VLAN PhysicalView VLAN-1](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/VLAN-PhysicalView_VLAN-1.png)

## 3、为什么需要VLAN？

在网络的早期，局域网 (LAN) 由区域内连接的设备网络组成。但是，今天LAN 被定义为单个广播域。换句话说，如果一个用户在他/她的 LAN 中广播一条消息，该 LAN 上的所有其他用户都会收到该消息。

这些广播通过路由器保留在 LAN 内，因此它们不会传播到 LAN 之外。然而，使用这种路由器的缺点是它比简单的网桥或交换机需要更多的时间来处理传入的数据。虚拟局域网提供了一种替代解决方案来隔离广播并将它们包含在 LAN 中。

## 4. VLAN 是如何工作的？

[VLAN](https://www.inteltech.com/blog/how-do-vlans-work/)基于称为标记的功能工作。有两种类型的标记——显式和隐式。在显式标记中，一旦 LAN 网桥从 VLAN 接收到数据，它就会使用关联的 VLAN 标识符对其进行标记。在隐式标记的情况下，不存在 VLAN 标识符的显式标记。相反，一些额外的参考数据决定了 VLAN 信息。

网桥通常维护一个具有特定字段的内部参考数据库，并查看它以检索 VLAN 信息。例如，网桥可以存储源网络地址的信息，并隐式确定接收到的广播的 VLAN 信息。

## 5、为什么要使用VLAN？

与典型的 LAN 相比，VLAN 具有多项优势。

### 5.1. 表现

VLAN 提供比 LAN 设置更好的性能。在 LAN 设置中，任何广播都会到达所有工作站。因此，这些额外的目的地有额外的流量。

而且，与交换机相比，路由器在处理上需要更多的时间。因此，它增加了广播传输的延迟。VLAN 解决了这两个问题，因为它只将数据广播到 VLAN 内的工作站。此外，它使用交换机和网桥，这比路由器需要更少的处理时间。

### 5.2. 虚拟工作组

![VLAN逻辑视图](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/VLAN-Logical_View.png)

VLAN 允许网络管理员隔离网络流量，以便针对一组特定工作站的广播保留在该组内。例如，属于研究部门的数据保留在该部门内。

### 5.3. 降低成本和管理工作

在 VLAN 设置中，网络管理员不需要昂贵的路由器。因此，它降低了整体网络配置成本。此外，VLAN 还减少了在网络中配置新用户的手动工作量。例如，如果我们在 VLAN 中添加或移动用户，则可以简化布线、站点寻址和路由器配置等成本。

### 5.4. 安全

与 LAN 相比，VLAN 提供了额外的安全性。这是因为广播停留在虚拟网络中。因此，它为属于 VLAN 一部分的部门的数据提供了更好的隐私。例如，分析部门的数据对研究部门不可见，反之亦然。

## 六，总结

在本文中，我们了解了虚拟局域网 (VLAN)。我们解释了什么是 VLAN、它的工作原理以及它相对于传统局域网 (LAN) 的优势。