## 1. 概述

网络使信息传输和共享变得更加容易。互联网使我们能够在本地网络或全球范围内的公司内部共享信息。共享时，数据以字节表示。

由于每一层都有其特定的单元，因此数据字节在 OSI 网络模型中具有特定的格式。数据单元还取决于使用的协议或连接。

在本教程中，我们将介绍网络中最常用的数据单元，即数据包、片段、帧、数据报和段。我们将解释其中的每一个，然后举例说明。

## 2.数据包

通过网络进行通信时，发送和接收文件和信息非常重要。网络中源和目的地之间通信的基本单位是数据包。

通过网络发送的数据被分成数据包，由目标设备重新组合。将数据分成数据包允许网络管理不同的带宽、路由和多个连接的设备，这些设备共享数据并相互独立地接收数据包。

它使重新传输丢失的数据或中断的数据变得更加容易。[数据包是OSI 模型](https://www.baeldung.com/cs/osi-model)中网络层内的数据单元。

每个数据包都包含一个包含源 IP 地址和目标 IP 地址的标头、一个协议规范字段、数据、尾部、协议版本等。尾部字段包含有关[纠错](https://en.wikipedia.org/wiki/Error_detection_and_correction)的信息和其他标识标志。

让我们考虑电子邮件的示例。当用户点击“发送”按钮时，相关操作就会执行。消息将通过 OSI 模型层，直到到达应创建数据包[的网络访问层。](https://en.wikipedia.org/wiki/Link_layer)

我们将通过电子邮件发送的数据格式化为一个数据包，其中包含有关所用协议的信息、纠错、发件人和收件人的 IP 地址(分别为源和目标)以及电子邮件文本：

![包](https://www.baeldung.com/wp-content/uploads/sites/4/2021/02/packet-1024x222.png)

## 3.片段

在每个网络中，有一个要传输的数据的最大大小，称为[MTU(最大传输单元)](https://en.wikipedia.org/wiki/Maximum_transmission_unit)。数据包通常可以大于最大大小，因此每个数据包也被分成更小的数据块，称为片段。网络层负责分片。

由于每个网络都有自己的 MTU 容量，因此传输需要对数据包进行分段。接收方将 IP 片段重新组装成数据包并将它们转发到更高层。

当网络层收到数据包时，它会检查数据包的 MTU。如果数据包长度大于 MTU，网络层会检查与数据包关联的[Don't Fragment (DF)标志。](https://en.wikipedia.org/wiki/IP_fragmentation)如果 DF 标志是![数学{1}](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-277511c02b56b209330acf2e78fd3290_l3.svg)，我们丢弃数据包。否则，[网络层](https://www.baeldung.com/cs/osi-model)决定片段的大小，创建头部，将片段封装在头部中，并将它们发送到下一层：

![碎片流](https://www.baeldung.com/wp-content/uploads/sites/4/2021/02/fragment-flow-1-706x1024.png)

继续以电子邮件为例，假设其数据包的大小为 1000 字节，传输单元的最大大小等于 300 字节，在这种情况下，数据包将被分片为多个部分，如下所示：

![分段](https://www.baeldung.com/wp-content/uploads/sites/4/2021/02/fragment-1024x306.png)

## 4.框架

就像数据包一样，帧是网络中消息的一小部分。它有助于识别数据并确定解码和解释数据的方式。数据包和帧之间的主要区别在于与 OSI 层的关联。

数据包是网络层中使用的数据单位，而帧是[OSI 模型数据链路层中使用的数据](https://www.baeldung.com/cs/osi-model)单位。帧比数据包包含更多有关传输消息的信息。

在网络中，存在两种类型的帧：定长帧和变长帧。在固定长度的框架中，框架的大小作为分隔符。因此不需要为框架设置边界。在变长帧中，很难确定帧的开始和结束。因此，必须定义帧的开始和结束。

帧与数据包没有太大区别。它们包含有关数据的更多信息。成帧的过程包括在数据包中添加一些额外的字节，将其变成帧：

![第 1 帧](https://www.baeldung.com/wp-content/uploads/sites/4/2021/02/frame-1-1024x463.png)

## 5.数据报

数据报表示网络中传输的数据单元。在网络中传输的数据被分成更小的部分，称为数据报。在数据报中，我们经常划分数据并在没有预定义路由的情况下从源传输到目的地。我们也不能保证交付到接收端的顺序。

[TCP](https://www.baeldung.com/cs/popular-network-protocols)在面向连接的协议中使用数据包，而在 UDP 中使用数据报，[这](https://www.baeldung.com/cs/popular-network-protocols)使得它们携带的信息较少，因为它们不需要从目的地接收响应消息。[传输层](https://www.baeldung.com/cs/osi-model)使用数据报作为传输数据的单位。数据报包括标题、目标和源的 IP 地址以及数据。

数据报的问题在于它无法管理后续或先前的数据通信。同样对于单次传输，数据报最多可以容纳![65535](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-2018f8faa1c89f678e1cd448641381db_l3.svg) 非常小的数据字节。

在我们使用 UDP 协议发送电子邮件的情况下，将没有数据包，只有数据报。传输的信息如下图所示：

![数据报](https://www.baeldung.com/wp-content/uploads/sites/4/2021/02/datagram.png)

## 6. 细分

段是数据包的一个片段，每个片段中都有一个 TCP 标头。除了源端口和目标端口，它还包含校验和字段，可确保通过网络传输的数据的正确性。分段提高了网络性能的效率并提高了安全性。 

如果我们发送一封带有TCP连接的邮件，那么存在于传输层中完成操作的数据就是一个报文段的实例。电子邮件数据包将变为：

![部分](https://www.baeldung.com/wp-content/uploads/sites/4/2021/02/segment-1024x481.png)

## 七、总结

在本教程中，我们介绍了计算机网络中的各种数据单元。我们通过示例详细讨论了数据单元，如数据包、片段、帧、数据报、段。

这些与 OSI 模型中的层相关联的设计数据载体拥有独特的信息，允许它们中的每一个在 OSI 模型中完成非常特定的任务。