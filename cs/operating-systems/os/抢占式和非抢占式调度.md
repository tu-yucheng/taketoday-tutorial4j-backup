## 1. 概述

在本文中，我们将解释抢占式和非抢占式调度，重点介绍它们的优点和缺点。

## 2.调度

[调度程序](https://www.baeldung.com/cs/process-scheduling)是决定哪个进程将在任何时间点使用 CPU 的操作系统组件。调度器在四种情况下起作用：

1.  当我们需要将进程从运行状态切换到等待状态时(通常是由于 I/O 请求)
2.  当进程终止或完成时
3.  如果进程从运行状态转换到就绪状态(通常是由于中断)
4.  最后，当进程从等待状态转换到就绪状态时

前两个场景很简单。就绪队列中的进程将被选择执行。非抢占式调度只允许在这两种情况下进行切换。抢占式调度承认第三种和第四种情况。它们比较棘手，因为运行中的进程可以通过两种方式进入就绪状态，这为调度程序提供了不同的选择。

## 3. 非抢占式调度

这是一种调度算法，在该算法中，进程会一直运行直到完成或进入等待状态。我们不能在它运行时[打断它。](https://www.baeldung.com/cs/os-trap-vs-interrupt)

非抢占式调度算法的示例包括流行的先来先服务 (FCFS)，其中执行顺序严格基于到达时间。顾名思义，先到先得。

另一个例子是最短作业优先 (SJF) 算法，它优先考虑完成所需时间最短的进程。在这里，最短的进程在下一个最短的作业接管 CPU 之前运行完成。

所有非抢占式调度算法都遵循相同的模式：

![非抢占式调度](https://www.baeldung.com/wp-content/uploads/sites/4/2022/12/non_preemptive_scheduling-1.png)
一个新进程被插入到队列的尾部(通常在 FCFS 中)。根据特定的算法，选择一个进程执行。所选过程将继续进行，直到完成而不会出现任何中断。

但是，如果进程在运行时需要任何 I/O 操作或某些阻塞资源，它就会切换到等待状态。在 I/O 操作完成或收到所需资源后，进程立即返回到队列的顶部。

### 3.1. 好处

非抢占式调度具有最小的计算开销，并且非常易于理解和实现。此外，它具有更高的吞吐量(即 CPU 在一定时间内执行的进程量)。

然而，它有一些缺点。

### 3.2. 缺点

非抢占式调度的平均响应时间(到达和首次调度执行之间的时间)肯定很差。这是因为每个进程都必须等待它前面的所有进程完成才能访问 CPU。

它也被认为是一种非常严格的调度算法，因为它坚持让进程占用 CPU 直到它完成。这样，关键进程可能会被拒绝访问 CPU。

与此类调度相关的另一个非常重要的缺点是难以处理优先级调度。这是因为进程不能被抢占。让我们假设一个不太重要的进程有很长的突发时间(完成执行所需的时间)正在运行。然后，一个关键进程(非常高的优先级)到达队列中。这成为一个困难的场景，因为正在运行的进程不能被中断——这使得处理优先级调度变得困难。

[死锁](https://www.baeldung.com/cs/deadlock-livelock-starvation)是我们与非抢占式调度相关联的另一个缺点。如果进程“A”持有进程“B”需要继续运行的资源，反之亦然，并且无法抢占，则必然会发生死锁。不可抢占是产生死锁的必要前提之一。

## 4.抢占式调度

在这里，调度程序将 CPU 分配给进程一段时间。时间段过去后，进程被中断并进入就绪状态。

因此，抢占式调度是指进程从运行或等待状态转变为就绪状态。它考虑切换进程的优先级，为正在运行的进程被中断提供空间。

抢占式算法的一个示例是循环法。顾名思义，它赋予所有进程同等的优先级，并以循环或循环顺序为它们分配相等的时间段。另一个例子是最短剩余时间优先 (SRTF)，它优先考虑剩余完成时间最短的进程。

抢占式调度通常是这样工作的：
![抢占式调度](https://www.baeldung.com/wp-content/uploads/sites/4/2022/12/preemptive_scheduling-1.png)
一旦分配的时间片结束或有更高优先级的进程准备执行(取决于算法)，正在运行的进程被中断，它切换到就绪状态并加入就绪队列。

此外，每当进程需要 I/O 操作或某些阻塞资源时，它就会切换到等待状态。在 I/O 完成或收到资源后，进程切换到就绪状态并加入就绪队列。

下一个要执行的进程的选择取决于所使用的特定算法。

### 4.1. 的优点和缺点

抢占式调度有很多优点：

-   它确保没有进程可以独占CPU
-   提高平均响应时间
-   为每次中断后重新考虑选择提供空间，因此如果优先级发生变化，更高优先级的进程可以占用 CPU
-   避免死锁

它也有一些缺点：

-   中断正在运行的进程、在上下文之间切换以及调度新到达的进程需要额外的时间
-   [可能会发生进程饥饿](https://www.baeldung.com/cs/deadlock-livelock-starvation)。这是一种低优先级进程由于高优先级进程的不断到来而无限期或长时间等待的情况

## 5.抢占式和非抢占式调度的区别

让我们用一个表格来清楚地突出两个概念之间的区别：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-d3be9a62761a04fa31153fb31d06a160_l3.svg)

## 六，总结

在本文中，我们讨论了抢占式和非抢占式调度技术以及它们之间的区别。

后者使进程能够执行直到它结束或在需要某些 I/O 操作/阻塞资源时切换到等待状态。相反，前一种类型的调度将 CPU 分配给特定持续时间的任务，并且进程可以在执行时被中断。