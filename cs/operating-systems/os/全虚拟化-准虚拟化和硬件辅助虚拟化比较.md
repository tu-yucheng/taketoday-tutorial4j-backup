## 1. 概述

在过去的几年中，云计算逐渐流行起来。它提供计算、存储和网络等计算机资源的按需可用性。云计算的构建块之一是[虚拟化](https://www.baeldung.com/cs/virtualization-intro)，它提供了一个抽象层来将系统硬件与其上运行的虚拟机分离。

软件供应商使用各种技术来实现服务器虚拟化。在本教程中，我们将讨论一些更常见的虚拟化技术。

## 2. 全虚拟化

在全虚拟化技术中，管理程序完全模拟底层硬件。这种技术的主要优点是它允许运行未修改的操作系统。在完全虚拟化中，来宾操作系统完全不知道它正在被虚拟化。

完全虚拟化结合了直接执行和二进制翻译。这允许直接执行非敏感的 CPU 指令，而敏感的 CPU 指令是即时翻译的。为了提高性能，管理程序维护最近翻译的指令的缓存。

VMware 的 ESXi 服务器使用这种技术来实现服务器虚拟化。

## 3.半虚拟化

在半虚拟化中，管理程序不模拟底层硬件。相反，它提供 hypercalls。来宾操作系统使用超级调用来执行敏感的 CPU 指令。这种技术不像完全虚拟化那样可移植，因为它需要在客户操作系统中进行修改。但是，它提供了更好的性能，因为来宾操作系统知道它正在被虚拟化。

超级调用类似于内核系统调用。它们允许客户操作系统与管理程序通信。

开源 Xen 项目使用半虚拟化技术。

## 4. 硬件辅助虚拟化

也称为本机虚拟化，在这种技术中，底层硬件提供特殊的 CPU 指令来辅助虚拟化。这种技术还具有高度可移植性，因为管理程序可以运行未修改的客户操作系统。这种技术使虚拟机管理程序的实现变得不那么复杂并且更易于维护。

Intel 的 Intel-VT 和 AMD 的 AMD-V 处理器提供了 CPU 虚拟化指令，软件供应商使用这些指令来实现硬件辅助虚拟化。

## 5.总结

在本文中，我们简要讨论了实现服务器虚拟化的各种技术。我们注意到全虚拟化和硬件辅助虚拟化提供了更好的可移植性。然而，半虚拟化提供了改进的来宾操作系统性能。