## 1. 概述

在本教程中，我们将了解中央处理器 (CPU) 如何与[算术逻辑单元](https://www.baeldung.com/cs/arithmetic-logic-unit)(ALU)、[寄存器和 RAM](https://www.baeldung.com/cs/registers-and-ram)等其他重要组件协同工作。

## 二、CPU概述

CPU负责的工作太多了。它简直就是任何计算机的心脏。Firefox、Sublime Text 或 GTA V 等程序由一系列称为指令的操作组成。他们告诉计算机要执行什么。如果指令是数学指令，例如加法或减法，CPU 将设置其 ALU 来执行此数学计算。它也可能是一条内存指令。在这种情况下，CPU 将与内存交互以读取和写入值。

为了执行这些复杂的操作，CPU 中有很多部件，如下图所示。 我们将专注于某些块，而不是检查每根电线。如下图所示的这种视图级别称为微体系结构：

![中央处理器2](https://www.baeldung.com/wp-content/uploads/sites/4/2021/09/CPU2.png)

我们需要有一些内存来运行程序。为了简单起见，我们将使用具有 16 个存储位置的内存，每个位置包含 8 位。此外，如图所示，我们的处理器有四个 8 位内存寄存器，A、B、C 和 D。我们将临时使用它们来存储和操作值。

### 2.1. 指令表

数据可以作为二进制值存储在内存中，正如我们所说的，程序也可以存储在内存中。CPU 有一些指令表，通过为它们分配一个 ID 来指定支持的指令，如下表所示。在我们的示例中，前四位将是我们的操作代码或简称操作码。其他四个将是该操作的数据。数据可能来自寄存器或内存中的地址。

CPU还需要另外两个寄存器，指令地址寄存器和指令寄存器。为了跟踪我们在程序中的位置，我们使用指令地址寄存器。它存储当前指令的内存地址。当我们第一次启动计算机时，所有这些寄存器都从 0 开始。我们使用本文中介绍的一个小程序初始化 RAM。

我们可以看到下面的指令表：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-d1bc95855a1805563fd356c2f45286bb_l3.svg)

### 2.2. 指令周期

为了处理指令，CPU 应该遵循指令周期，从启动到计算机关闭，指令周期简单地包括获取、解码和执行周期。CPU 操作的第一阶段称为获取阶段，我们在该阶段检索第一条指令。

由于寄存器值为 0，RAM 返回存储在地址 0 中的任何值。在本例中为 00101110。然后将该值到指令寄存器中。所以，现在我们已经从内存中获取了指令。我们需要弄清楚这条指令是什么，这样 CPU 才能正确执行它。这称为解码阶段。

在解码阶段，操作码是前 4 位：0010。这对应于将![加载_A](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-2fd19f9e85c76d009ea6bcf68d577862_l3.svg)值从 RAM 加载到寄存器 A 的指令。RAM 地址是最后四位：1110，或十进制的 14。

这些操作是通过逻辑门执行的。无需过多赘述，我们可以说控制单元负责指挥 CPU 的所有不同部分。在完成一个完整的获取、解码和执行周期后，我们准备重新开始。如果我们仔细查看内存和指令表的前 4 行，我们可以看到在循环中，我们有![加载_B](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-5ed69d8d19e6c9914f34fb238d55c1f7_l3.svg)操作码 0001 和 RAM 地址：1111。我们将值 00001110，十进制的 14 保存到寄存器 B。

### 2.3. 添加说明

如果我们将指令地址寄存器再增加一次，它将寻址 2。在地址二中，我们有 1000 作为操作码。事实证明，我们的下一条指令是![添加](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-4dbcbfde9a0814f6201f7194e1c6fcdf_l3.svg)将两个寄存器中的值相加并将结果存储在第二个寄存器中的指令。CPU 在 ALU 的帮助下执行此操作。如果我们查看指令的最后 4 位，我们可以看到 01 对应寄存器 B，00 对应寄存器 A。在这条指令的末尾，我们的 CPU 将 14 和 3 相加，并将 17 存储到寄存器 A。

### 2.4. 店铺说明

现在，我们可以获取最后一条指令：01001100。如果我们解码它，我们可以看到 0100 是一条![商店_A](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-fe0fe8cd79c52f0ec874582ca0628eb7_l3.svg)指令，RAM 地址为 1100，十进制为 12。我们将地址传递给 RAM，而不是对内存进行读取启用，我们对其进行写入启用。

综上所述，我们从内存中加载两个值，将它们相加，然后将结果保存到内存中。

## 3. CPU时钟

CPU 时钟负责使 CPU 在获取、解码和执行阶段保持滴答作响。它会定期触发电信号。控制单元使用它来推进 CPU 的内部操作。

CPU 执行取指、译码、执行周期的每一步的速度称为时钟速度。该速度以赫兹(频率单位)测量。一赫兹表示每秒一个周期。

最早的 CPU 之一，单芯片 CPU [Intel 4004](https://en.wikipedia.org/wiki/Intel_4004)，是一个 4 位 CPU，于 1971 年发布。它的微体系结构与我们的 CPU 示例非常相似。虽然其时钟速度为 740 千赫兹，即每秒 74 万个周期，但当今现代计算机处理器的时钟速度为几千兆赫兹，即每秒数十亿个 CPU 周期。

## 4。总结

在本文中，我们讨论了 CPU 的工作原理并演示了一个在 CPU 上运行的简单程序。我们还提供了有关指令表、指令周期和 CPU 时钟的详细信息。