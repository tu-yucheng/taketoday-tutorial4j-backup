## 1. 概述

在本教程中，我们将了解基本的[文件](https://www.baeldung.com/cs/files-file-systems)结构。首先，我们将简要解释基本概念，然后提供有关最常见文件结构的信息。

## 2.简介

尽管磁盘速度较慢，但它们以低于内存的成本提供了巨大的容量。即使它们已关闭，它们也会保留存储在其上的信息。文件结构设计背后的主要驱动力来自磁盘的缓慢访问时间及其巨大的非易失性容量。

在我们深入细节之前，让我们看看数据结构和文件结构之间的主要区别。数据结构处理主内存中的数据，而文件结构处理辅助存储设备(如硬盘)中的数据。两者都涉及数据的表示和访问数据的操作。这就是为什么这两个概念在文献中会相互混淆的原因。然而，我们可以说内存访问技术的发展直接影响着研究文件结构的研究人员。

## 3. 文件结构

文件结构是文件中数据表示的组合。它也是访问数据的操作集合。它使应用程序能够读取、写入和修改数据。文件结构也可能有助于找到符合特定条件的数据。文件结构的改进在使应用程序速度提高数百倍方面发挥着重要作用。

开发文件结构的主要目标是尽量减少访问磁盘的次数，以便获得所需的信息。它理想地对应于在一次磁盘访问中获得我们需要的东西或以尽可能少的磁盘访问获得它。

一个好的文件结构应该：

-   快速访问大容量
-   减少磁盘访问次数
-   通过拆分这些集合来管理增长。

当文件永远不会改变时，开发满足这些目标的文件结构设计相对容易。但是，随着文件的变化、增大或缩小，设计具有这些特性的文件结构变得更加困难。

### 3.1. 文件结构简史

由于 1950 年代大多数文件都在磁带上，访问是顺序的，访问成本的增长与文件的大小成正比。随着文件的增长和磁盘驱动器等存储设备的可用，索引被添加到文件中。这些索引允许将键和指针列表保存在一个较小的文件中，这样可以更快地进行搜索。但是，这些索引具有一些相同的顺序行为，并且它们变得难以管理。

20 世纪 60 年代初期，出现了应用树结构的想法。由于随着用户添加和删除记录，树的生长可能非常不均匀，这会导致长时间的搜索。

### 3.2. AVL树

研究人员继续开发树结构，并为内存中的数据提出了一种优雅的、自平衡的二叉搜索树，称为[AVL 树。](https://en.wikipedia.org/wiki/AVL_tree)研究文件系统的研究人员开始寻找将 AVL 树应用于文件的方法。

### 3.3. B 树和 B+ 树

经过十年的设计工作，他们提出了[B 树](https://en.wikipedia.org/wiki/B-tree)的想法。虽然 B 树提供了出色的性能，但它有一个缺点：它无法高效地顺序访问文件。幸运的是，他们通过使用链表结构解决了这个问题。他们将这种新结构称为[B+ 树](https://en.wikipedia.org/wiki/B%2B_tree)。

我们通过下图来了解B-tree和B+树的主要区别：

![b树示例](https://www.baeldung.com/wp-content/uploads/sites/4/2021/11/b_btree-1.png)

多年来，B 树和 B+ 树成为许多文件系统的标准，因为它们保证访问![mathbf {log_{k}N}](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-96b82c8b50f104e2c6ba998558248958_l3.svg)时间![否](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-7354bae77b50b7d1faed3e8ea7a3511a_l3.svg)与![k](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.svg)B树结构。实际上，我们只需访问磁盘三四次就可以在数百万个文件中找到一个文件。

### 3.4. 哈希

只需三四次访问磁盘就可以访问数据，非常高效。但是，可以更有效地通过单个请求正确获得我们想要的东西。散列是一种通过一个请求访问数据的方法。当文件大小不随时间改变时，[散列法](https://en.wikipedia.org/wiki/Linear_hashing)效果很好。但在相反的情况下，散列法不适用于动态文件。研究人员通过使用动态散列技术解决了这个问题，无论文件有多大，都可以通过一次访问检索信息。

让我们看看哈希机制是如何工作的：

![散列示例](https://www.baeldung.com/wp-content/uploads/sites/4/2021/11/hashing.png)

正如我们在上图中看到的那样，散列是一个使用算法将任何输入转换为固定大小的过程。 散列的主要思想是使用散列函数将给定输入转换为更小的数字。它使用这个较小的数字作为称为哈希表的表中的索引。

## 4。总结

在本文中，我们分享了有关文件结构的简要信息，并消除了数据结构和文件结构之间的歧义。

此外，我们还简要介绍了有关常见文件结构的信息，例如 AVL 树、B 和 B+ 树以及散列。