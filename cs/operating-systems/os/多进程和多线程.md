## 1. 概述

多处理和多线程是计算机多任务处理的核心概念。首先，计算机多任务处理是指计算机系统能够在一定时期内同时执行多个(通常是不同的)任务。进程和线程是这些任务的执行实例。然而，除了有一些相似之处外，进程和线程在技术上是不同的。

在本教程中，我们将介绍多处理和多线程。首先，我们将回顾线程和进程，观察它们之间的关系。接下来，我们将研究多处理和多线程的一般概念。最后，我们将研究多处理和多线程技术如何在计算机系统的上下文中发生。

## 2. 进程和线程回顾

通常，我们可以将进程视为在计算机系统中执行的程序实例。因此，计算机进程有自己独立的代码和数据部分。换句话说，一个特定的计算机进程既不直接干扰另一个进程的代码执行，也不直接干扰另一个进程的数据资源。

线程是依赖于进程的轻量级半进程。具体来说，线程在进程的上下文中执行任务。用技术术语来说，线程需要与进程类似的资源，例如内存堆栈、程序计数器和寄存器组。这些资源对于每个线程都是特定的。但是，同一进程的所有线程共享进程的代码和数据部分。

关于通信，进程被分类为独立的或合作的。独立进程不与其他进程通信，也不受它们的影响。协作进程反过来在执行过程中与其他进程交换数据。 由于进程是孤立的程序，它们之间的数据交换依赖于[进程间通信](https://www.baeldung.com/cs/inter-process-communication) 机制。

线程可能还需要相互通信。但是，与进程不同，属于同一进程的线程不需要额外的机制来建立线程间通信。在这种情况下，消息通过流程的数据部分进行交换。

下图简单演示了进程和线程的关系：

 

![毫米](https://www.baeldung.com/wp-content/uploads/sites/4/2021/09/mm.png)

综上所述，尽管是不同的实体，但[进程和线程](https://www.baeldung.com/cs/process-vs-thread) 是密切相关的。例如，每个进程至少有一个线程在 CPU 中执行指令。反过来，线程只能存在于一个进程中。

## 3. 多处理和多线程基础

多处理和多线程处理分别处理进程和线程的多个实例的并发执行。因此，他们负责在计算机系统中实现多任务处理。让我们看看多处理和多线程的定义：

-   多处理是指在计算机系统中同时执行多个进程的可能性。 值得注意的是，多处理系统需要计算机系统中的多个物理处理单元。这样不同的进程可以同时执行。
-   多线程是指同时执行特定进程的异构任务的可能性。实际上，当至少一个具有多个线程的进程在计算机系统中执行时，就会出现多线程。因此，多线程不像多处理那样需要多个物理处理单元。但是，一个处理单元的处理时间必须按照特定的策略分配给正在运行的线程。

我们可以用具体的例子来分析多进程和多线程。当前，现代个人计算机通常具有两个或更多个处理单元，这允许进行多处理。因此，例如，我们可以同时运行网络浏览器和文本编辑器。然而，事实上，我们执行的进程比可用的处理单元多得多。在这种情况下，进程共享这些单元的处理时间。

观察我们的程序(进程)，我们可以注意到它们通常同时执行多个任务。我们以文本编辑器为例。编辑器的图形界面是一个线程；还有另一个线程可以捕获用户输入的字母；另一个保存文档；可能还有其他一些我们仅使用编辑器就没有意识到的东西。因此，这些多个线程必须共享处理单元的时间，并且通常不会同时执行所有时间。

## 4. Multiprocessing 和 Multithreading 的技术细节

处理单元(硬件)和操作系统(软件)是多处理和多线程的主要推动力。正如我们在前面几节中看到的，多处理的实现需要多个处理单元。此外，我们需要一个多任务操作系统来管理多个线程和进程。多任务操作系统有不同的类别，但通常采用抢占式多任务系统。

调度程序是多任务操作系统的关键组件。该组件确定哪个进程/线程将在特定时间执行。另一个组件，调度程序，管理处理单元的执行时间片。在抢占式系统中，时间片的结束会中断进程或线程的执行。

多任务操作系统可以调度一个进程的线程(内核线程)或调度一个进程，该进程反过来管理其自身线程(用户线程)的执行。 在后一种情况下，调度程序不知道用户线程，进程必须使用线程库来协调它们的执行。

最后，处理单元和多任务操作系统的几个功能特性会影响多线程和多处理的性能。 示例是物理处理单元和这些单元中可用的物理线程的总数、确定进程优先级的操作系统策略以及操作系统处理阻塞进程的方法。

## 5.总结

在本文中，我们研究了多处理和多线程。首先，我们回顾了进程和线程的基本概念。因此，我们分析了有关多处理和多线程的基本概念。最后，我们概述了有关现代计算机系统如何实现多处理和多线程的技术细节。

我们可以得出总结，多处理和多线程在概念上是不同的，在功能上是独立的。然而，这些技术在通过多任务处理提高计算机系统性能的意义上是互补的。