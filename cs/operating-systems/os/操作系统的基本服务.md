## 1. 概述

操作系统可能是我们计算机上运行的最相关的软件。操作系统负责管理计算机硬件和软件。因此，它们为计算机用户提供一系列服务，使他们能够完成不同的任务。

在这些服务中，我们可以举出例如为用户提供与计算机交互的接口、资源分配、网络通信等。

当然，操作系统提供的每一项服务都需要特定的资源和条件才能按预期执行。 此外，服务合作以实现共同目标。

在本教程中，我们将了解操作系统的基本服务，重点关注它们如何工作以及如何与其他服务协作。

首先，我们将简要回顾一下操作系统，了解关于它们的一般但基本的概念。最后，我们将特别研究主要的操作系统服务：用户界面、程序执行器和[文件系统](https://www.baeldung.com/cs/files-file-systems)等。

## 2. 操作系统

总之，操作系统提供了一个抽象和管理硬件资源并执行多个软件程序的环境。

我们可以将操作系统分为两个主要部分：内核和服务。

[操作系统的内核](https://www.baeldung.com/cs/os-kernel)直接 负责提取计算机的硬件资源。通过这种方式，内核在硬件和软件之间建立了一座桥梁。

操作系统的服务反过来使用内核启用的资源为计算机程序和计算机用户提供功能。

因此，除了执行软件程序之外，操作系统服务还使计算机用户能够与这些程序进行交互。

下图显示了计算机系统上下文中的操作系统：

![操作系统通用](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/OSGeneral-781x1024.png)

最后，需要强调的是我们有几种不同 [类型的操作系统](https://www.baeldung.com/cs/os-types)。因此，每种类型的操作系统都可能有不同的过程来处理某些功能。例如，批处理操作系统以不同于实时程序的方式安排程序的执行。

## 三、操作系统的典型服务

正如上一节所讨论的，我们知道操作系统为其用户提供多种服务。其中一些服务支持用户、操作系统本身和其他软件程序之间的交互。反过来，其他服务处理计算机系统生命周期的内部例程。

在以下小节中，我们将探讨操作系统提供的相关服务。

### 3.1. 用户界面

用户界面是实际上使用户能够与操作系统交互的服务。因此，这意味着与整个计算机系统本身进行交互。

操作系统的用户界面有两种常见形式：命令行界面(CLI)和图形用户界面(GUI)。

下图举例说明了命令行和图形用户界面：

![用户界面](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/UI.png)

CLI 通过一组基于文本的命令在用户和操作系统之间建立交互。因此，用户键入命令及其各自的参数并将它们提交给操作系统处理。

CLI 界面的示例是 Windows 的命令提示符和基于 Linux 的系统的终端。

第二个选项，GUI，由一个窗口图形设计组成，用户可以通过点击鼠标和键盘输入来与之交互。

图形界面被认为比命令行界面更加用户友好。因此，它们在通用操作系统中被广泛采用。

GUI 设计的例子是 Microsoft Metro 和 Linux GNOME。

### 3.2. 程序执行

操作系统的另一个重要服务是程序执行。执行程序不是一项简单的任务。为此，操作系统处理大量操作，例如程序加载、执行堆栈管理和[进程调度](https://www.baeldung.com/cs/process-scheduling)。

下图描绘了操作系统的程序执行服务：

![PE2](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/PE2.png)

尽管它很复杂，但执行程序的服务使操作系统对用户来说意义重大。该服务允许不同的用户使用相同的操作系统通过运行异构程序来处理不同的任务。

### 3.3. 输入/输出操作

用户不能直接控制输入/输出 (I/O) 设备，例如显示器、扬声器、键盘和鼠标。因此，操作系统调解了用户、I/O 设备和计算机系统之间的通信。让我们看下图中的一些示例：

![输入输出](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/IO.png)

在这种情况下，操作系统通过多个系统调用和中断提供服务，这些服务可以向可用的 I/O 设备发送和接收操作请求。

需要强调的是，控制特定设备的 I/O 操作可能需要安装驱动程序。反过来，驱动程序为操作系统提供了一种关于如何与特定 I/O 设备通信的指南。

### 3.4. 文件系统管理

[文件系统](https://www.baeldung.com/cs/files-file-systems)在持久内存中保存和组织计算机的所有文件，通常是硬盘 (HD) 或固态驱动器 (SSD)。

但是，用户在文件系统中创建、修改、删除、查找数据文件是很正常的。因此，操作系统为用户提供了对文件系统进行操作的服务，使用户能够执行上述管理操作。

此外，操作系统控制授予用户和程序访问文件的权限。这些权限(或限制)用于避免未经授权的修改和读取关键文件，这可能会损坏计算机系统。

下图是一个操作系统权限控制的抽象例子：

![有限状态机](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/FSM.png)

### 3.5. 通讯

在我们的特定场景中，通信涉及[进程](https://www.baeldung.com/cs/job-vs-task-vs-process#process)之间的数据交换。这些进程又可以在同一台计算机或不同计算机上执行。因此，在后一种情况下，不同的计算机通过网络相互通信。

操作系统有特定的机制来使运行在同一台计算机上的进程能够进行通信。 最常见的例子是[管道](https://www.baeldung.com/cs/pipes-vs-sockets#pipes)和共享内存。

简而言之，管道由连接两个进程的数据缓冲区组成。用技术术语来说，操作系统将文件描述符关联到每个管道：一个用于读取，另一个用于写入。

另一种选择是使用在两个或多个进程之间共享的内存区域。在这种情况下，操作系统定义了共享内存区域。这些区域的地址包含在进程的寻址空间中，进程可以通过它们交换数据。

如果我们考虑通过网络进行通信的进程，大多数操作系统都提供[套接字](https://www.baeldung.com/cs/pipes-vs-sockets#sockets)机制。 

套接字是与表示网络连接的文件相关联的描述符。因此，进程可以通过套接字指示要发送的数据及其目的地。操作系统反过来触发通过网络发送的请求消息。

下图描述了先前描述的通信机制：

![通讯](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/COMM.png)

需要强调的是，除了管道、共享内存和套接字之外，操作系统还提供其他机制来实现[进程间通信](https://www.baeldung.com/cs/inter-process-communication)。

### 3.6. 错误检测

在计算机系统生命周期中，可能会出现多种错误。例如，我们可能遇到 CPU 错误、内存分配或访问错误、导致硬件错误的组件故障，甚至是 I/O 设备导致的错误。

首先，操作系统的错误检测服务必须避免计算机系统在发生错误时彻底崩溃。 因此，此服务必须捕获错误并对其进行管理，从而尽可能保持整个系统的功能。

此外，错误检测服务必须能够将错误通知用户，显示它们的代码、描述，以及修复它们的方式(如果已知)。

下图显示了可能发生并由操作系统处理的错误情况：

![乙肝](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/EH.png)

### 3.7. 资源分配

资源分配意味着将计算资源专用于进程和用户。我们有很多资源类型，比如 CPU(实际上是 CPU 时间)、内存、网络和 I/O 设备。因此，当操作系统控制这些资源时，它自然会决定哪些进程使用它们。

在它们的生命周期中，一个进程通常需要多个计算资源。有两个主要的资源管理挑战：(i) 避免需要特定资源的进程永远得不到它；(ii) 避免拥有资源的进程永远不会释放它。

不应对前面提到的挑战的后果可能很复杂。例如，两个进程持有双方都需要的特定资源。所以，他们无限期地等待对方释放这些资源。我们称这种情况为[死锁](https://www.baeldung.com/cs/os-deadlock)。 

下图举例说明了死锁情况：

![DL](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/DL.png)

其他可能发生的复杂情况是 [活锁和饥饿](https://www.baeldung.com/cs/deadlock-livelock-starvation)。操作系统必须通过有效的资源管理来避免这些情况，并在它们发生时解决它们。

### 3.8. 会计

会计包括跟踪计算系统中用户和进程的行为。

例如，操作系统分析哪些用户需要执行哪些进程。因此，它还可以调查在计算机上执行的进程请求了多少计算资源。

最后，操作系统可以将获得的信息关联起来，生成有关计算机系统用户和在其上运行的进程的统计数据。

下图显示了系统资源使用情况核算的简化示例：

![ACC2](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/ACC2.png)

### 3.9. 安全

关于操作系统，我们可以从不同的方面来理解安全。

第一个方面包括流程的内部安全。操作系统必须能够保证进程的正确执行。

因此，操作系统必须为进程提供所需的计算资源并充分控制它们。此外，它必须防止其他进程无意或恶意地干扰给定进程的执行。 

安全的另一个相关方面是保证只有[授权用户](https://www.baeldung.com/cs/authentication-vs-authorization#authorization)才能触发计算机系统中资源和进程的创建、修改和移动。

因此，操作系统必须向用户提供身份验证方法，以证明他们是他们所声称的身份。操作系统最常用的身份验证方法是[基于密码的单因素身份验证](https://www.baeldung.com/cs/multi-step-vs-multi-factor-auth)。

下图显示了操作系统的传统登录屏幕示例：

![LS](https://www.baeldung.com/wp-content/uploads/sites/4/2022/05/LS-300x200.png)

## 4。总结

在本教程中，我们研究了操作系统的基本服务。 首先，我们对操作系统进行了简要回顾，调查了它们的一般概念和要求。因此，我们检查了操作系统提供的最相关的服务。

我们专注于九项基本服务：用户界面、程序执行、输入/输出操作、文件系统管理、通信、错误检测、资源分配、记账和安全。

我们可以得出总结，操作系统是任何计算机的核心软件。 他们的基本服务允许正确有效地执行流程，从而使用户能够正确使用计算机系统。