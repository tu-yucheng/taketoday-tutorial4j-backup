## 1. 概述

自互联网出现以来，恶意攻击就层出不穷。其中许多攻击利用了在线服务中潜在的架构漏洞。

[客户端/服务器架构](https://www.baeldung.com/cs/client-vs-server-terminology)中的服务器中心性和[对等架构](https://www.baeldung.com/cs/centralized-vs-distributed-computing#distributed-computing)中的多个源等特定特征可以通过不同方式加以利用。

最著名的网络攻击是拒绝服务 (DoS)。DoS 攻击旨在使网络(通常连接到 Internet)中可用的服务过载，从而使其不可用。它可以从单个来源或多个来源执行(分布式 DoS – DDoS)。

在本教程中，我们将全面探讨 DDoS 攻击。首先，我们将研究 DoS 攻击的原理并了解它们是如何分布的。接下来，我们将了解 DDoS 的不同技术及其工作原理。最后，我们将讨论 DDoS 的潜在后果。

## 2. 拒绝服务攻击的基础知识

DoS 攻击的主要目标是通过超载使网络服务不可用。最常见的执行形式是向服务提供商发送大量恶意请求，如此多的请求导致服务器在某个时候停止响应。

我们称之为泛洪 DoS 的大规模请求攻击。然而，还有其他利用特定服务的特定特征的拒绝服务技术。反过来，这些技术可以通过减少请求数量使服务不可用。

为了执行简单的 DoS 攻击，攻击者选择一个目标(通常是客户端/服务器架构中的服务器)并系统地向它们发送服务请求。由于这些请求是假的，攻击者可以简单地忽略服务器响应。因此，攻击者避免使自己超载。

此外，DoS 攻击者经常更改其请求的源地址，以避免被服务器的安全系统或在核心网络本身中运行的安全系统检测和阻止。因此，单个攻击者冒充数十个或数百个虚假用户的情况并不少见。

下图描述了具有高抽象级别的 DoS 攻击：

![拒绝服务 1](https://www.baeldung.com/wp-content/uploads/sites/4/2022/04/DoS-1.png)

需要强调的是，攻击者不仅将终端服务作为单一软件加以利用。实际上，他们可以利用构成服务的协议和子系统的漏洞。以这种方式，DoS 策略变得更加通用和可重用。我们将在以下部分中看到其中一些通用漏洞利用。

然而，即使伪造大量用户并执行 DoS 攻击，拥有少量计算机的单个攻击者所产生的流量仍然非常有限。

这些限制的出现，例如，由于硬件限制，例如网卡速度。因此，为了绕过这些限制，攻击者使用分布式方法来执行 DoS，然后称为 DDoS。

### 2.1. 分布式拒绝服务

DoS 和 DDoS 攻击在使用的利用策略和最终目标方面完全相似。但是，采用多个、分布式、非伪造的来源使攻击在许多方面都更加强大。

首先，让我们了解 DoS 攻击是如何分布的。

基本上，在试图使服务不可用之前，攻击者必须感染大量合法互联网用户的计算机。为此，攻击者通过社会工程、蠕虫和其他感染技术在 Internet 上传播恶意软件程序。

该恶意软件将受感染的计算机变成可供攻击者使用的机器人。

通常，DDoS 恶意软件在计算机系统中是离散的，不会使用户的日常操作超负荷，仅在 DDoS 攻击开始时才起作用。因此，用户很难注意到恶意软件的存在并尝试将其删除。

一组受感染的计算机(机器人)构成了攻击者的僵尸网络。因此，攻击者将僵尸网络配置为以协调的方式执行对服务器的请求，考虑到特定的利用和策略。

下图简要描述了 DDoS 攻击：

![分布式拒绝服务](https://www.baeldung.com/wp-content/uploads/sites/4/2022/04/DDoS.png)

一般来说，DDoS 攻击比简单的 DoS 攻击更有效。它的发生是由于一些特定的特征：

-   难以缓解和追踪来源：由于 DDoS 攻击来自多个位置，因此很难区分哪些请求来自攻击者，哪些来自合法用户
-   高速和流量：DDoS 攻击突然开始，减少了安全系统在损害服务之前做出反应和阻止它们的可用时间。此外，DDoS 攻击可以一直大量发送网络流量
-   复杂的策略：僵尸网络中有很多机器人，攻击者制定策略来躲避安全系统。例如，让机器人的行为与真实用户相似，从而试图让 DDoS 看起来像是一种自然的服务过载

## 3. 拒绝服务攻击技术

正如我们之前所讨论的，DoS 和 DDoS 攻击的主要目标是使服务不可用。 为实现此目标，攻击者通常会考虑以下两个特定目标之一：耗尽目标服务器资源迫使其重新启动，或使通信通道过载以隔离服务器。

从算法上讲，攻击者利用协议和服务的功能来实现他们的目标。 一些最著名的技术是 SYN 泛洪攻击、TTL 到期攻击、放大攻击和低速率目标攻击。我们将在以下小节中简要讨论它们中的每一个。

### 3.1. 同步洪水

SYN 泛洪攻击(有时称为半开放攻击)利用了 TCP 协议的连接建立方案。

该技术的主要思想是向[TCP 服务器发送大量同步请求，](https://www.baeldung.com/cs/tcp-active-vs-passive)而不发送任何后验确认消息以真正建立连接。

在这种方式下，TCP服务器仍然等待来自虚假用户的确认消息相当长的时间，直到因超时而断开连接。

但是，大量的虚假请求消耗了服务器的资源。因此，过载的服务器会忽略连接新请求，包括来自合法用户的请求。

### 3.2. TTL 过期攻击

TTL 过期攻击的目标是核心网络中的路由器。主要思想是大量发送将使某些特定路由器的 TTL 计数器过期的数据包。

由于 TTL 到期，路由器将使用额外的计算资源来创建和发送“ICMP 时间超出”响应。

由于同一路由器上有大量数据包使 TTL 过期，因此它会过载并停止或显着减速，从而成为网络中的瓶颈。

### 3.3. 放大攻击

放大攻击包括使用受害服务器 IP 的欺骗请求，然后将它们发送到生成大量流量的服务作为响应。

可以利用以放大攻击的服务示例基于[DNS](https://www.baeldung.com/cs/dns-intro)和 NTP。

在 DNS 场景中，攻击者利用 DNS 查找操作的响应来生成恶意流量。

在 NTP 案例中，攻击者通常利用称为 moonlist 的操作，该操作发送有关最近请求 NTP 服务器的数百台主机的信息。因此，一个简单而小的请求会导致传输大量数据。

### 3.4. 低速率针对性攻击

与本教程中的其他攻击技术(一般攻击)不同，低速率目标攻击利用非常特殊服务的不同特征。

低速率攻击的目的不是用网络流量淹没受害者。实际上，主要思想是发送最少的流量，但对服务造成最大的影响。

例如，让我们考虑一个联网的 AV 服务。攻击者可以伪造具有许多由 AV 检查的签名和模式的网络数据包。因此，与正常情况下的平均值相比，伪造的数据包需要 AV 处理更多的计算资源。

由于不同的 AV 可能具有不同的行为，攻击者将需要进行新的分析并可能伪造另一个攻击数据包以利用异构 AV 服务器。

攻击者的主要优势是在低速率攻击中更容易模仿合法用户的行为。因此，安全系统更难检测和阻止恶意来源。

## 4. 潜在后果

我们在最后几节中看到，拒绝服务攻击最预期的结果是使服务不可用。但是，还有其他与 DoS 和 DDoS 攻击相关的潜在副作用和目的：

-   分散注意力：拒绝服务攻击可以用来分散注意力。例如，DDoS 可以隐藏对确定的系统漏洞的利用，使攻击者能够入侵它
-   数据泄漏：服务可能由于过载而泄漏数据。例如，它发生在第一批交换机中，当过载时，它会将数据发送到所有端口
-   服务跟踪：单个服务器可以同时托管多个服务。超载其中一项服务并强制服务器重新启动将使所有托管服务重新启动。因此，攻击者可以跟踪此行为以检测隐藏的服务和共享资源

## 5.总结

在本教程中，我们研究了拒绝服务攻击。 首先，我们回顾了 DoS 和 DDoS 的基础知识。接下来，我们看到有几种技术可以执行拒绝服务攻击。因此，我们特别探索了最知名的攻击：syn flood、TTL 到期、放大和低速率针对性攻击。最后，我们了解了 (D)DoS 的潜在副作用。

我们可以注意到，拒绝服务攻击是数字世界中的真正威胁。 如果服务器通过 Internet 提供服务，它自然会成为 DoS 或 DDoS 的可能目标。

此外，减轻拒绝服务攻击并非易事。存在多种不同的 (D)DoS 技术，它们需要不同的检测方法和对策。

因此，可能需要在安全方面进行大量投资，以保持网络服务始终可用。