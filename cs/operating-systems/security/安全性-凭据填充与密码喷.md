## 1. 概述

在本教程中，我们将研究撞库攻击和密码喷洒攻击。我们的主要目标是了解密码攻击的工作原理。因此，我们可以重点关注撞库攻击和密码喷洒攻击，研究它们的特点、异同点。

在第一部分中，我们将回顾密码攻击的类别、接近它们的目标和典型方法。因此，在接下来的部分中，我们将深入探讨撞库攻击和密码喷洒攻击，最后对它们进行系统的总结比较。

## 2.密码攻击

用户可以通过多种方式证明其身份以访问系统。通常，[身份验证方法](https://www.baeldung.com/cs/authentication-vs-authorization)会考虑我们是、拥有或知道的元素([有时是所有](https://www.baeldung.com/cs/multi-step-vs-multi-factor-auth)元素)。这些元素又由算法处理，这些算法将提供的数据与存储的数据进行比较，从而为请求用户授予访问权限。

当我们谈论基于我们希望用户知道的元素的身份验证方法时，最常用的资源是密码。

我们可以将 [密码](https://www.baeldung.com/cs/private-urls-vs-password-based-authentication#password-based-authentication)理解 为用户保存的个人和秘密数据，用于证明其身份，从而访问受限的系统和数据。

如今，密码保护着世界各地的许多敏感数据和价值聚合数据。由于这个事实，黑客和其他恶意用户创建了多种策略来窃取或推断密码。

密码攻击策略的常见示例包括暴力破解、键盘记录器、网络钓鱼、[中间人](https://www.baeldung.com/cs/security-mitm)、流量拦截、凭据填充和密码喷洒。

每种密码攻击都有特定的特征和执行技术。但是，它们都有相同的最终目标：找到有效的用户凭证并使用它来访问给定的系统或数据。

在以下部分中，我们将特别介绍其中两种密码攻击策略：凭据填充和密码喷洒。

## 3.凭据填充

目前，我们有多个帐户可以在线访问服务。反过来，这些帐户通常需要用户定义的密码。因此，由于账号众多，用户往往会选择容易记住的密码，有时甚至会选择多次相同的密码。

然而，这种情况使撞库攻击得以发生。

总之，撞库攻击包括使用给定系统的泄露凭证来尝试访问其他系统。

特定系统采用比其他系统更严格的安全方案来保存用户凭据。例如，一些系统存储[加盐哈希](https://www.baeldung.com/cs/simple-hashing-vs-salted-hashing)而不是纯文本密码。由于散列是不可逆的，因此这些系统的数据库更能防止数据泄漏。

另一方面，一些系统将用户的明文密码存储在他们的数据库中。它使存储的凭据在数据泄漏的情况下非常容易受到攻击。

这样，撞库攻击最相关的先决条件是攻击者访问这些不安全的凭证数据库。

在这一点上，我们应该强调即使使用散列密码的数据库也可能不安全。选择错误的散列函数会使它们的密码散列容易受到暴力破解和[彩虹表](https://www.baeldung.com/cs/rainbow-table-attacks)攻击。

一旦攻击者获得用户的凭据，他就可以在多个不同的系统中测试用户名和密码的组合。当然，许多尝试都会失败。然而，考虑到大量凭证被盗和多个系统经过测试，几次尝试成功的可能性很高。

下图从高层次上描述了撞库攻击的过程：

![凭据填充](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/CredentialStuffing.png)

### 3.1. 注意事项与对策

避免撞库攻击包括服务提供商和用户双方的努力。接下来，我们将介绍针对此类攻击的一些主要防范和应对措施：

-   安全系统：这一点考虑了系统采用策略和机制以避免受到攻击([防火墙](https://www.baeldung.com/cs/firewalls-intro)、[防病毒](https://www.baeldung.com/cs/antiviruses)、[DMZ](https://www.baeldung.com/cs/public-dmz-network-architecture)等)以及在泄漏情况下重用的凭据([散列](https://www.baeldung.com/cs/hashing)、[加盐散列](https://www.baeldung.com/cs/simple-hashing-vs-salted-hashing)、...)
-   受限的登录尝试：机器人会进行大多数撞库攻击。因此，限制登录尝试次数和使用机器人检测器机制(例如[验证码](https://www.baeldung.com/cs/captcha-intro))有助于减轻这些攻击
-   使用不同的密码：对于用户来说，避免撞库攻击的明确策略是为异构系统使用不同的密码

## 4.密码喷洒

管理大量用户帐户很困难。正如上一节所讨论的，我们通常有许多带有密码的帐户来访问不同的服务。 因此，为了简化流程，我们有时会选择使用简单的密码。

但是，简单的密码是不安全的。经过多次使用后，这些密码变得流行起来并广为人知。这正是启用密码喷洒攻击的场景。

总之，密码喷洒攻击是字典攻击，它使用常用密码来尝试通过潜在用户名列表访问系统。

常用密码列表很容易找到。许多实体根据泄露的密码库编制了这些列表，从而使它们可以在线获取。

用户名列表更难获得。但是，多个系统采用用户的电子邮件地址作为用户名。查找活动电子邮件地址列表并不是一项非常困难的任务。

通过这些列表，攻击者可以选择一个目标来尝试获取一些有效的凭据。通过选定的目标，攻击者会发现在阻止帐户之前系统支持多少次无效登录尝试。假设数字是(N)。因此，攻击将为列表中的每个潜在用户执行 (N-1) 次登录尝试。

大多数登录尝试可能会失败，攻击者将从密码和用户名列表中获得一些有效凭据。 因此，密码喷洒攻击的主要目标不是获取所有用户的凭据，而是(幸运地)获取一些用户的凭据。

下图显示了密码喷射攻击的简化工作流程：

![密码喷涂](https://www.baeldung.com/wp-content/uploads/sites/4/2022/08/PasswordSpraying.png)

### 4.1. 注意事项与对策

减少密码喷洒攻击成功率的最有效方法是在用户手中避免使用常见和频繁的密码来保护他们的帐户。但是，对于系统所有者也有一些预防措施和对策：

-   密码创建策略：采用密码创建策略背后的想法是让用户使用不明显的密码。这样，密码策略必须使用户无法使用简单的组合
-   减少登录尝试次数：特定用户在给定时间内允许的登录尝试次数越多，系统就越容易受到密码喷洒攻击
-   登录辅助安全机制：类似于凭据填充，机器人执行大多数密码喷射攻击。使用验证[码](https://www.baeldung.com/cs/captcha-intro)和其他验证机制可以减轻此类攻击

## 五、系统总结

由于在线服务数量的增加，对用户进行身份验证成为一项至关重要的任务。通常的身份验证方法包括将用户名与密码相关联，当用户提供有效组合时授予对系统的访问权限。

尽管是一种流行的选择，但基于密码的身份验证容易受到多种攻击。反过来，这些攻击旨在窃取或推断有效凭据(用户名加密码)以作为真实用户访问系统。

在这种情况下，两种特殊的攻击是凭据填充和密码喷洒。

简而言之，凭据填充旨在使用系统中泄露的凭据来访问其他系统。然而，密码喷洒攻击使用潜在用户名和常用密码的列表，从而试图推断出有效的凭据并获得对系统的访问权限。

下表总结了这些攻击的一些相关特征。

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-c231695457d89bc71ab476b23a862840_l3.svg)

最后，我们强调这些攻击以密码为中心。 这样，使用 [多因素身份验证](https://www.baeldung.com/cs/multi-step-vs-multi-factor-auth#2-multi-factor-authentication) 是避免它们的有效选择。

## 六，总结

在本教程中，我们研究了撞库攻击和密码喷洒攻击。 首先，我们简要回顾了密码攻击策略。因此，我们检查了撞库攻击和密码喷洒攻击，重点关注它们的特征和要求。最后，对所研究的攻击进行了系统总结比较。

我们可以得出总结，基于密码的身份验证对于当今的多个系统都是必不可少的。 但是，这种身份验证方法应该精心设计，以免被攻击者利用。