## 1. 概述

在本教程中，我们将了解缓冲区溢出攻击及其工作原理。我们还将提到不同类型的缓冲区溢出攻击。当我们谈论安全攻击时，不可能不提到减轻攻击的对策。

攻击者可以使用缓冲区溢出攻击来操纵软件。尽管是众所周知的安全漏洞，缓冲区溢出攻击仍然是网络安全团队面临的一个问题。由于 SSL 中的缓冲区溢出漏洞，被称为“ [heartbleed](https://en.wikipedia.org/wiki/Heartbleed) ”的威胁在 2014 年暴露了数亿人。

## 2.什么是缓冲区？

在计算机科学中，缓冲区，也称为数据缓冲区或内存缓冲区，是在数据从一个位置传输到另一个位置时临时存储数据的内存区域。这些缓冲区通常存储在 RAM 中。缓冲区通常用于计算机中以提高速度。大多数最新的硬盘驱动器都采用缓冲来有效地检索数据，许多在线服务也是如此。

例如，缓冲区被广泛用于防止互联网视频流中断。流式传输视频时，视频播放器一次下载约 20% 的视频并将其保存在缓冲区中，然后再从该缓冲区进行流式传输。连接速度的轻微下降或服务中断不会以这种方式影响视频流性能。

缓冲区旨在保存一定数量的数据。除非使用缓冲区的软件包含在接收到太多数据时丢弃数据的内置指令，否则应用程序将覆盖缓冲区旁边的内存中的数据。这就是缓冲区溢出和攻击类型登场的地方。

## 3. 缓冲区溢出示例

缓冲区溢出，也称为缓冲区溢出，是一种信息安全现象，其中程序会覆盖附近的内存位置。

数据临时存储在缓冲区中，缓冲区是内存中的存储单元。在将数据从一个内存位置传输到另一个内存位置时，缓冲区会保存数据。当数据量超过内存存储容量时，就会发生缓冲区溢出。格式错误的输入通常会触发缓冲区溢出。

当预期所有输入都将小于特定大小并且缓冲区被构造为该大小时，生成更多数据的格式错误的事务可能会迫使它写入超过缓冲区的末尾。如果它覆盖附近的数据或可执行代码，这可能会导致不正常的程序行为，包括内存访问问题、不准确的结果甚至崩溃：

![img](https://www.baeldung.com/wp-content/uploads/sites/4/2022/12/Blank-diagram-Page-29-1024x249.png)

例如，登录凭据的缓冲区可以期望输入 8 个字节的用户名。如果事务包含 12 个字节，比预期多 4 个字节，则程序可以将这 4 个字节写入缓冲区边界。由于缓冲区上的内存不受控制，可能作为指令执行，攻击者可以利用这部分修改计算机内存，进而控制计算机。

## 4. 缓冲区溢出攻击的类型

程序有不同的[内存区域](https://www.baeldung.com/cs/memory-allocation)，可以根据涉及的分区对攻击进行分类。栈溢出攻击和堆溢出攻击是缓冲区溢出攻击的两种主要类型。还有许多不同的其他类型。以下是众所周知的缓冲区溢出攻击类型：

基于堆栈的溢出攻击：更常见的基于堆栈的溢出攻击利用堆栈内存，该内存仅在执行本地函数时可用。

基于堆的溢出攻击：另一方面，基于堆的攻击很难被利用。它们需要淹没分配给程序的内存空间，超出用于当前运行时活动的内存。

整数溢出攻击：产生大于旨在保留它们的整数类型的整数的算术运算称为整数溢出。这可能导致缓冲区溢出攻击。

Unicode 溢出攻击：通过将 Unicode 字符放入需要 ASCII 字符的输入中，Unicode 溢出会导致缓冲区溢出。在 ASCII 中，字母“b”由数字 98 表示。虽然 ASCII 代码仅涵盖西方语言字符，但 Unicode 可以生成地球上几乎所有书面语言的字符。因为 Unicode 有更多的字符，所以很多都比最大的 ASCUU 字符大。

## 五、对策

开发人员通常使用两种替代方法来防范缓冲区溢出攻击。他们中的第一个是在他们的代码中加入安全功能。第二个是使用具有内置保护的编程语言。

虽然开发人员可以采取预防措施来防止缓冲区溢出攻击，但运行时保护也是现代操作系统中的另一种对策。操作系统通常具有三种常见的保护措施：

-   数据执行预防：操作系统可以通过将某些内存区域指定为可执行或不可执行来防止攻击在不可执行区域中运行代码。
-   地址空间随机化：为了防止缓冲区溢出攻击，操作系统也使用地址空间随机化。正如我们从名称中理解的那样，它打乱了数据区域地址空间的位置。缓冲区溢出攻击通常需要可执行代码的位置，当操作系统随机生成地址空间时，不可能执行此类攻击。

## 六，总结

在本文中，我们解释了什么是缓冲区溢出攻击及其工作原理。此外，我们还提供了一些有关不同类型攻击的信息，以及我们如何在不同的计算抽象级别上减轻此类攻击。