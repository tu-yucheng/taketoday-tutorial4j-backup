## 1. 概述

随着现有攻击和漏洞利用的种类繁多，安全性成为当前数字系统的一个突出问题。在这种情况下，学术界和工业界开始努力提出有效的安全机制，一次克服一个特定的威胁。

其中一种机制是散列。总之，散列旨在为数字数据提供安全性、隐私甚至真实性。

为了实现哈希机制的目标，他们使用不同的数学函数将给定的数据序列(源)转换为另一个数据序列(结果)。

然而，有时需要对同一数据应用多个哈希数学函数以保证强大的安全性和可靠性：一种称为加盐的方法。

在本教程中，我们将学习简单哈希和加盐哈希。首先，我们将探讨哈希机制的基本概念。然后，我们将分析简单的散列算法，突出它们的优点和缺点。同样，我们将研究加盐哈希。最后，我们将在系统总结中比较简单哈希和加盐哈希。

## 2. 哈希基础

简而言之，哈希包含一种将给定的可变长度字节序列转换为另一个具有固定长度的字节序列的机制。所以，我们可以将哈希的哈希结果(定长字节序列)称为哈希、哈希码或摘要。

哈希机制使用数学函数(通常称为哈希函数)来完成所描述的映射过程。

反过来，散列数学函数是一种单向处理。因此，它可以毫无困难地处理给定输入的输出。然而，很难甚至不可能通过其先前计算的相应输出来确定原始输入。

关于散列的一个大问题是选择一个有效的数学函数来进行映射操作。这样，我们可以观察一些性质来选择好的数学函数：

-   易于计算：数学函数的计算不需要复杂的算法或太多的处理能力
-   均匀分布：函数生成的哈希应该在可能的代码范围内均匀 分布，避免集群
-   避免冲突：发生冲突时为不同的输入生成相同的输出(相同的哈希码)。适当的数学函数尽可能避免碰撞

即使试图避免它们，碰撞在散列中也是不可避免的。 正如我们所见，散列将任何输入映射到固定长度的输出。因此，有限数量的输出有无限的输入。

通过这种方式，我们可以将冲突理解为开发哈希机制时需要管理的一个特征，而不是一个问题。

最后，哈希表是用于将原始输入链接到它们各自的哈希码的结构。因此，我们可以通过这些表的哈希来恢复原始输入。

下图抽象地描述了计算哈希的过程：

![哈希](https://www.baeldung.com/wp-content/uploads/sites/4/2022/01/Hashing-1.png)

### 2.1. 散列应用

哈希在计算环境中有多种应用。接下来我们简要介绍一些最典型的应用：

-   存储私人信息：密码、信用卡号和其他具有隐私和安全要求的信息经常以散列形式存储在数据库中
-   创建数据结构：几种编程语言使用散列来创建键值结构。这些结构的示例是 Python 中的字典和[Java 中的 HashMaps](https://www.baeldung.com/java-hashmap)
-   数字文件签名：几种[数字签名](https://www.baeldung.com/cs/encoding-vs-signing-asymmetric-encryption#signing-data-with-asymmetric-encryption)方法使用散列来检查文件的完整性。

## 3. 简单哈希

简单散列包括对每个提供的输入仅执行一次散列过程。 我们可以理解为最简单直接的哈希使用方式。

让我们考虑在注册用户时对给定系统的密码进行哈希处理。在一个简单的散列过程中，我们收到密码，将它们提交给单一的散列机制，并将结果存储到用户表的特定列中。

因此，当用户尝试登录时，他会发送他的密码哈希。反过来，登录系统只检查提供的散列是否与注册用户的散列相对应：如果是，则登录成功；否则登录失败。

下图描述了所提供的示例：

![简单散列](https://www.baeldung.com/wp-content/uploads/sites/4/2022/01/SimpleHashing.png)

使用简单散列的主要优点是比较提供的散列与存储的散列的高性能。此外，由于比较是直接的，因此不需要任何额外的操作。

反过来，主要缺点包括简单散列的漏洞。

例如，受益于简单哈希使用的攻击是蛮力攻击和 [彩虹表攻击](https://www.baeldung.com/cs/rainbow-table-attacks)。

## 4. 加盐哈希

加盐哈希包括随后将输入提交给一系列哈希和归约机制。 在这种情况下，归约过程将散列转换为明文。

需要强调的是，缩减过程还采用了单向数学函数。但是，此函数不会还原哈希函数。因此，归约过程将哈希转换为不同于原始输入的明文。

让我们考虑在单个散列部分中显示的相同示例。同样，如果我们使用加盐哈希，我们将执行至少两种哈希机制和一种缩减机制。

因此，当我们收到密码时，它会被提交给第一个哈希机制。然后将该机制的结果提交给归约机制。然后，生成的明文再次使用第二种哈希机制进行哈希处理。最后，存储密码。

缩减和散列过程的例程可以根据需要重复进行。

这样，当用户尝试登录时，我们必须将提供的哈希值与存储在凭据数据库中的哈希值进行比较。如果匹配，则登录成功。但是，如果没有匹配，我们减少散列并执行后续的散列机制，用数据库测试结果。

重复此过程，直到执行所有可用的归约/散列机制。如果生成的散列均不匹配，则登录失败。

下图显示了所描述的加盐哈希的过程：

![加盐散列](https://www.baeldung.com/wp-content/uploads/sites/4/2022/01/SaltedHashing.png)

使用加盐哈希的主要优点是提高了安全性。加盐哈希更能抵抗暴力破解和彩虹表攻击。

反过来，主要缺点包括比较哈希所需的额外处理。加盐哈希通常需要更多的计算资源和时间来进行匹配检查。

## 五、系统总结

在前面的部分中，我们根据简单哈希和加盐哈希提供的安全性和计算它们所需的处理能力研究了它们的机制。

总之，我们可以注意到安全性和处理能力之间的明显权衡。这样，随着加盐哈希时的安全性增加，计算它们所需的处理能力也会增加。

因此，使用简单散列机制的主要优势包括快速计算和将接收到的散列值与特定散列表进行比较的直接且廉价的过程。

另一方面，使用加盐哈希机制的主要优势是它们的安全性提高，更好地容忍攻击和利用，例如暴力攻击和彩虹表攻击。

下表显示并比较了简单哈希和加盐哈希的一些特征：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-1752548fd252e79b27fd9583b513fd04_l3.svg)

## 六，总结

在本教程中，我们了解了简单哈希和加盐哈希。 首先，我们概述了散列的一般概念。因此，我们深入研究了简单哈希的工作原理。同样，我们分析了加盐哈希的特殊特征。最后，我们在系统总结中概述和比较了所研究的概念。

我们可以得出总结，哈希对于当前的计算场景至关重要。 散列可实现多种相关功能，例如安全数据存储和数字签名。

反过来，在简单散列法或加盐散列法之间进行选择，应该考虑与可用计算能力和处理时间相比所需的安全级别。