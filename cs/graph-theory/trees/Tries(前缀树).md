## 1. 概述

在本教程中，我们将讨论 trie 数据结构，也称为前缀树。我们将简要介绍基础知识，然后了解如何实现最重要的功能：插入、查找和前缀搜索。

## 2. 什么是 Trie 树？

特里树或前缀树是一种特殊的搜索树，其中节点通常由字符串作为键。

尝试可用于实现集合和关联数组等数据结构，但当我们需要执行有序遍历或高效搜索以特定前缀开头的键时，它们才真正发挥作用。

因此，在实现自动完成等功能时经常使用它们。

## 3. 树结构

在 trie 的基本实现中，每个节点包含一个字符和一个指向其子节点的指针列表。节点的密钥没有明确存储：相反，我们可以通过计算从根到节点的路径来导出它。

这是一个 trie 的样子：

![截图_20200515](https://www.baeldung.com/wp-content/uploads/sites/4/2020/05/Screenshot_20200515_105203.png)

为了区分树中的哪些节点代表有效键，使用布尔标志。此外，如果我们使用 trie 来实现关联数组数据结构，节点可以包含指向任意数据的指针。

该图显示了一个存储“geek”、“genius”、“gene”和“genetic”键的特里树，其中突出显示的节点代表有效键。通过构造，所有叶节点都是有效键，但对于那些不是叶节点的节点，我们需要将布尔标志设置为true。

## 4. 在 Trie 中插入一个元素

要将元素插入到 trie 中，我们需要从根节点开始向下遍历树，仅在缺少节点时才创建节点。当我们创建了所有必要的节点后，我们将在最后一个节点上将布尔标志设置为true。

例如，如果单词“gene”已经包含在树中，而我们现在插入单词“genetic”，我们将：

1.  遵循“基因”路径
2.  根据需要为“t”、“i”和“c”创建附加节点
3.  将最后一个“c”节点标记为有效键

相反，如果树中已经存在单词“genetic”，而我们现在要插入单词“gene”，则不需要向树中添加任何新节点。

唯一要执行的操作是将结束节点标记为有效键：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-9061c4d79fdca119b7faece82bcf4812_l3.svg)

## 5.查找

查找用于查看树中是否包含特定键，如果我们正在实现关联数组，则返回与键关联的数据。

让我们看看查找算法：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-b95dc3eb9cd2eef51429d169111848f1_l3.svg)

它与插入算法非常相似，但是这一次，当我们找到一个丢失的节点时，我们就会知道我们正在寻找的值不存在。如果迭代完成，则意味着我们已经找到了从根到节点的匹配路径，我们只需要检查它是否是有效键。

请注意，在插入和查找算法中，我们不必遍历树本身，例如使用[深度优先](https://www.baeldung.com/java-depth-first-search)或[广度优先](https://www.baeldung.com/java-breadth-first-search)搜索。从来不需要遍历，因为我们必须遵循的路径在输入本身中提供。

## 6.前缀搜索

我们已经了解了前缀树的基本操作。而且，现在是时候看看他们擅长的地方了，即从词汇表中检索所有具有给定前缀的单词。

为此，我们将：

1.  在树中找到前缀“P”的路径，从根开始
2.  从路径“L”中的最后一个节点，计算“L”的所有后代，它们是有效键
3.  返回找到的节点

这是实践中的样子：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-6a90ed324c29732d4e2f6d7a6cfea031_l3.svg)

 

## 七、总结

在本文中，我们了解了如何实现前缀树数据结构。具体来说，我们学习了如何实现基本的插入和查找操作以及前缀搜索功能。