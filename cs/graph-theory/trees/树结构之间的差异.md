## 1. 概述

树是一种基本的数据结构，具有许多理想的特性。我们可以像有序数组一样快速搜索树，也可以像链表一样快速插入和删除。

在本文中，我们将回顾不同类型的树结构以及它们之间的一些主要区别。

## 2. 什么是树？

当我们想到树木时，我们会立即想到根、枝和叶。好吧，这正是计算机科学中树的解剖结构。

一棵树由一系列节点(顶点)组成，这些节点由我们所说的分支(边)完全连接。这些分支没有任何方向：

![2020-05-09-10.03.59](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-09-10.03.59-300x175-1.png)

分支不得在不同节点之间创建任何循环。如果我们在结构中找到循环，那么我们就不是在处理树：

![2020-05-09-0.51.05](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-09-0.51.05-300x170-1.png)

树基于层次结构工作，这意味着我们将有父节点和子节点。一棵树只有一个根节点。

每个节点只能有一个父节点，但可以有多个子节点。没有孩子的节点称为叶子。节点也可以有空子节点：

![2020-05-09-1.37.45](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-09-1.37.45-300x210-1.png)

我们可以找到树实例的最常见位置是在我们文件系统的文件夹结构中。

树的其他重要概念是：

-   路径：一组连续的边
-   高度：节点与树上最远叶子之间的边数；树的高度是根节点的高度
-   深度：一个节点到根节点的边数

## 3. 二叉树

二叉树是一种树，其中每个节点最多只能有两个子节点。

二叉树中的每个节点都有一个值、一个右孩子、一个左孩子和一个父节点。左右子节点可能为空：

![2020-05-09-2.22.54](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-09-2.22.54-300x213-1.png)

## 4. 二叉搜索树

二叉搜索树 (BST) 是一种更具体的二叉树类型，其主要特征是已排序。

当且仅当二叉树的中 [序遍历](https://www.baeldung.com/cs/depth-first-traversal-methods#in-order-traversal) 导致排序序列时，二叉树是 BST。

在 BST 的任何子树上，父节点左侧的节点都小于它，而父节点右侧的节点都大于它：

![2020-05-09-10.15.12](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-09-10.15.12-300x220-1.png)

平均时间复杂度：

-   搜索：O(log n)
-   插入：O(log n)
-   删除：O(log n)

### 4.1. 插入 BST

让我们检查一下二叉搜索树的插入伪代码：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-b1378b23726a1e9ff0e13f27fe0363a8_l3.svg)

### 4.2. 不平衡二叉搜索树

如果数据沿着树分布不均匀，我们最终会得到一棵不平衡的树。在向我们的树中插入元素时，如果我们从大部分升序或降序序列进行插入，我们的树将在根的一侧有大部分节点，在另一侧有很少的节点。

事实上，如果我们从一个已经排序的列表中插入元素到我们的树中，我们将面临最坏的情况：

数据 = [8, 12, 29, 43, 65]

![2020-05-12-1.02.23](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-12-1.02.23-288x300-1.png)

如我们所见，如果我们的树是不平衡的并且我们处理最坏的情况，它将看起来像一个LinkedList。

平均时间复杂度：

-   搜索：O(n)
-   插入：O(n)
-   删除：O(n)

### 4.3. 平衡二叉搜索树

如果我们将元素随机插入到 BST 中，树将或多或少是平衡的。

有多种方法可以实现平衡 BST。一种方法是在插入之前随机化我们的原始数据集：

数据 = [12, 43, 65, 8, 29]

![2020-05-12-1.01.58](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-12-1.01.58-300x224-1.png)

平均时间复杂度：

-   搜索：O(log n)
-   插入：O(log n)
-   删除：O(log n)

接下来，让我们检查一些维护平衡树的方法。

## 5. 红黑树

红黑树是几种自平衡树结构之一。在红黑树中，除了通常的二叉树属性外，每个节点还包含额外的属性 Color。这种颜色可以是红色或黑色，它用于添加一组规则，称为红黑规则，用于平衡树：

1.  每个节点要么是红色要么是黑色。
2.  根总是黑色的。
3.  如果一个节点是红色的，它的孩子一定是黑色的。
4.  每片叶子都是黑色的。
5.  从根到叶子或空子节点的每条路径都必须包含相同数量的黑色节点。

我们称从节点到叶子的路径上黑色节点的数量为节点的黑色高度。改写规则 4，我们也可以说对于从根到叶的所有路径，黑色高度必须相同：

![2020-06-03-22.04.30](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-06-03-22.04.30-1024x574-1.png)

平均时间复杂度：

-   搜索：O(log n)
-   插入：O(log n)
-   删除：O(log n)

## 6. AVL树

AVL 树是第一个被引入的自平衡树。它以其发明者的名字命名：Andelson-Velskii 和 Landis。

在 AVL 树中，节点拥有一个额外的属性，即左右子树之间的高度差。这称为平衡因素。

对于任何节点，AVL 树上的平衡因子不应大于 1。

在插入或删除节点后，我们的树可能会不平衡。如果平衡因子相差超过 1，则需要旋转以标准化高度。

平均时间复杂度：

-   搜索：O(log n)
-   插入：O(log n)
-   删除：O(log n)

## 7. B树

B-Tree 是一种多路树。多路树可以有两个以上的子节点——事实上，它们可以包含几个到数千个。

多路树的一个问题是每个节点必须比二叉树大，因为它包含更多数据并且需要保存对其每个子节点的引用。

B 树类似于红黑树，但它们对于组织外部存储中的数据特别有用。

在 B-Tree 中，每个节点将包含n 个键，并且它将有n+1个子节点。因此，它的所有叶子都处于相同的深度。

B-Trees 的限制使它们达到了完美的平衡。它们也至少是半满的并且包含几个级别：

![2020-05-13-0.01.41](https://www.baeldung.com/wp-content/uploads/sites/4/2020/07/2020-05-13-0.01.41-1024x473-1.png)

平均时间复杂度：

-   搜索：O(log n)
-   插入：O(log n)
-   删除：O(log n)

## 八、总结

在本文中，我们探讨了一些不同类型的树结构以及每种树结构的特殊特征。

当准备好进入进一步的实现细节时，请务必查看我们的文章，[在 Java 中实现二叉树](https://www.baeldung.com/java-binary-tree)。