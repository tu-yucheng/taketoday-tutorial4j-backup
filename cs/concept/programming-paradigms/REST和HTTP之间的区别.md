## 1. 概述

通常，术语 REST 和 HTTP 可以互换使用。在本文中，我们将了解每个术语的真正含义以及它们为何是两个不同的事物。

## 2.什么是休息？

REST 代表具象状态转移。它首先在[Roy Fielding 现在著名的论文](https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm)中进行了描述。在这篇论文中，菲尔丁阐述了他对万维网理想软件架构的设想。

REST不是标准或规范。相反，Fielding 将 REST 描述为分布式超媒体系统的一种架构风格。他认为 RESTful 架构的几个属性使其成为互联网等大型互连系统的理想选择。

接下来，我们将查看定义 RESTful 系统的属性。

### 2.1. 资源和代表

RESTful 系统的核心构建块是资源。例如，资源可以是网页、视频流或图像。资源甚至可以是一个抽象概念，例如数据库中所有用户的列表或特定位置的天气预报。唯一真正的限制是系统中的每个资源都是唯一可识别的。

此外，资源可能以多种表示形式提供。在客户端-服务器模型中，服务器负责管理资源的状态，但客户端可以选择他们喜欢与之交互的表示。

### 2.2. 统一接口

统一的接口是 RESTful 系统的显着特征之一。它要求客户端使用同一组标准操作访问所有资源。

统一接口的好处是易于创建与它们提供的服务分离的实现。这允许服务在不影响客户的情况下发展。权衡是统一的接口可能会对某些系统施加不必要的限制，或者要求服务器的执行效率低于专门的操作。

### 2.3. 无国籍

RESTful 系统中的所有操作都应该是无状态的。这意味着从客户端到服务器的每次调用都不能依赖于任何共享状态。它还意味着对服务器的每个请求都必须包含服务器完成请求所需的所有数据。

REST 中的无状态要求让位于几个关键属性：

-   可见性：可以单独分析每个请求以监控系统健康状况和响应能力
-   可靠性：系统故障更容易恢复
-   可扩展性：添加更多服务器资源来处理更多请求很简单

然而，它也带来了权衡，即当客户端与服务器进行多次交互时，对服务器的请求更大并且包含重复数据。

## 3.什么是HTTP？

与 REST 不同，超文本传输协议 (HTTP) 是一个具有明确定义约束的标准。HTTP 是为我们在互联网上的大多数日常交互提供支持的[通信协议：](https://tools.ietf.org/html/rfc2616)

-   Web 浏览器加载网页
-   流式传输视频
-   使用移动设备关掉家里的灯

那么，REST 与 HTTP 是一回事吗？最简洁的答案是不。

HTTP 是由互联网工程任务组维护的协议。虽然它与 REST 不同，但它展示了 RESTful 系统的许多特性。这并非偶然，因为 Roy Fielding 是 HTTP 的 RFC 的原始作者之一。

重要的是要记住，RESTful 系统不需要使用 HTTP。碰巧 HTTP 是一个好的开始，因为它展示了许多 RESTful 特性。

让我们仔细看看使 HTTP 成为 RESTful 协议的一些特性。

### 3.1. URL 和媒体类型

在 HTTP 世界中，资源通常是远程服务器上的文件。这些可能是 HTML、CSS、JavaScript、图像和构成现代网页的所有其他文件。每个文件都被视为不同的资源，可以使用唯一的 URL 对其进行寻址。

不过，HTTP 不仅仅适用于文件。术语资源还可以指远程服务器上的任意数据：客户、产品、配置设置等等。这就是 HTTP 在构建现代 API 方面变得流行的原因。它提供了一种一致且可预测的方式来访问和操作远程数据。

此外，HTTP 允许客户端为某些资源选择不同的表示形式。在 HTTP 中，这是使用标头和各种众所周知的媒体类型来处理的。

例如，天气网站可以为同一天气预报同时提供 HTML 和 JSON 表示。一个适合在网络浏览器中显示，而另一个适合由另一个存档历史天气数据的系统处理。

### 3.2. HTTP 方法

HTTP 遵守 REST 原则的另一种方式是它为每个资源提供相同的方法集。虽然有将近十几种可用的[HTTP 方法](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)，但大多数服务主要处理映射到 CRUD 操作的 4 种方法：POST、GET、PUT和DELETE。

提前了解这些操作可以轻松创建使用 Web 服务的客户端。与[SOAP](https://www.baeldung.com/java-soap-web-service)等操作可以自定义且不受限制的协议相比，HTTP 使已知的操作集保持最少和一致。

当然，个别网络服务可能会选择拒绝某些资源的某些方法。或者他们需要对敏感资源进行身份验证。无论如何，可能的 HTTP 方法集是众所周知的，并且不能因网站而异。

### 3.3. HTTP 并不总是 RESTful

然而，对于 HTTP 实现 RESTful 原则的所有方式，它也可以通过多种方式违反这些原则。

首先，REST 不是通信协议，而 HTTP 是。

接下来，也许最具争议的是，大多数现代 Web 服务器使用 cookie 和会话来存储状态。当这些用于指代服务器端的状态时，这违反了无状态原则。

最后，使用 URL(由 IETF 定义)可能会允许 Web 服务器违反统一接口。例如，考虑以下 URL：

```plaintext
https://www.foo.com/api/v1/customers?id=17&action=clone
```

虽然必须使用预定义的 HTTP 方法之一(例如GET )请求此 URL ，但它使用查询参数来提供其他操作。在本例中，我们指定了一个名为clone的操作，该操作显然不适用于系统中的所有资源。如果没有更详细的服务知识，也不清楚会有什么反应。

## 4。总结

虽然许多人继续互换使用术语 REST 和 HTTP，但事实是它们是不同的东西。REST 指的是特定架构风格的一组属性，而 HTTP 是一种定义明确的协议，恰好展示了 RESTful 系统的许多特性。