## 一、概述

[面向对象编程](https://www.baeldung.com/cs/oop-modeling-real-world)(OOP) 是一种编程范例，其中代表现实世界事物的对象是主要构建块。OOP 允许对象彼此之间具有关系，例如继承和聚合。

在本教程中，我们将探讨继承和聚合之间的差异，检查它们的优点和缺点，并讨论各自的适当用例。

## 2. OOP和类之间的关系

面向对象编程是一种编程范式，旨在使用一组简单的概念和关系来促进客观可观察的现实建模。

OOP 的主要构建块是对象。 对象代表现实世界的实体及其属性和行为。 

OOP 的另一个重要组成部分是对对象之间的关系进行建模的能力。两种最常用的关系是继承和聚合。 它们也称为“is-a”(继承)和“has-a”(聚合)关系，可用于基本建模。

理解继承和聚合并不相互排斥也很重要，在某些情况下我们可以在同一个项目中同时使用它们。

作为一个简化的系统建模示例，请考虑下面提供的文本描述： “课程由讲师和学生组成。学生和讲师都是人”。

在给定的描述中，名词代表潜在的类/对象，而动词决定关系类型。 在第一句中，动词“consist”是“has-a”关系的同义词，而在第二句中，动词“is”是“is-a”关系的典型例子。UML表示如下图所示：

![叔叔](https://www.baeldung.com/wp-content/uploads/sites/4/2023/02/OOM.png)

 

了解 OOP 中异构关系类型之间的差异对于设计和开发有效且高效的软件至关重要。

## 3.继承

在类同时具有大量相似性和差异性的情况下，继承提供了面向对象编程上下文中的解决方案。

在这种情况下，让我们考虑两个类 C1 和 C2。我们可以隔离 C1 和 C2 的共同特征，在一个新的独立类 B 中实现它们。结果，C1 和 C2 变得更小，只包含各自独有的属性和功能。它被称为继承，C1和C2继承自B。

在前面的示例中，B 作为基类或超类，而 C1 和 C2 是派生类或子类。超类代表了一种更普遍的形式，反映了一种向上的运动。子类代表更具体的形式，表示向下运动。因此，它在班级组织中形成了一个层次结构。

形式上，继承描述了祖先和后代之间的关系，如下所示的 UML 符号描述：

![遗产](https://www.baeldung.com/wp-content/uploads/sites/4/2023/02/inheritance-1.png)

在示例中，基类(Person)充当祖先，派生类充当后代(Student 和 Lecturer)。为每个类绘制了一个单独的框，箭头从派生类指向基类。

尽管一些现代编程语言不允许多重继承，但从概念上讲，它从 OOP 范式开始就存在。 多重继承允许一个类从多个父类继承属性和行为。 但是，这可能会导致歧义，因为两个父类可能具有同名的方法。

接口在某种程度上是解决多重继承问题的方法。接口允许定义一个契约，该契约指定类必须实现的一组方法，但不定义这些方法应该如何实现。

## 4.聚合

在一个类使用另一个类作为其属性的数据类型的场景中，聚合(又名组合)作为一种构造被涉及。

聚合表示 OOP 中对象之间的整体-部分关系。它通常被称为“has-a”关系，因为一个对象有另一个对象作为其状态的一部分。与对象通过父子关系关联的继承不同，聚合关系中的对象是松散耦合的，没有固有的层次关系。

所以，聚合允许对象共享信息和操作，但它们仍然可以独立使用。

聚合是更广泛的关系类别中的一种特定类型，称为关联。最简单和最普遍的一种关系是关联，它表示两个类的对象以某种非层次的方式相关。下面给出了一个聚合示例：

![聚合](https://www.baeldung.com/wp-content/uploads/sites/4/2023/02/aggregation.png)

## 5.继承与聚合的区别

下表比较了聚合和继承的好处、成本和后果：

![由 QuickLaTeX.com 呈现](https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-9b3faa1d251e39a86f6bc3fa58e88b65_l3.svg)

### 5.1. 支持对象组合而不是类继承

“优先于类继承的对象组合”是基于以下论点的实用 OOP 原则：

1.  与继承相比，组合提供了更大的灵活性和可维护性。 组合对象可以轻松创建具有所需功能的新对象。因此，我们可以通过改变对象的组成而不是改变底层的类结构来修改对象的数据和操作
2.  继承会导致紧密耦合的代码，其中父类的更改可能对其后代产生意想不到的后果。这也使得重用代码变得更加困难，因为类之间的关系可能很复杂且难以理解

## 六，总结

在本教程中，我们重新审视了面向对象编程并研究了该范式的两种重要关系类型： 继承和聚合。

继承和聚合是 OOP 中的重要概念。了解它们的差异以及何时使用它们对于有效的软件设计至关重要。继承和聚合都可以导致代码的可重用性。但是，理解继承和聚合并不相互排斥也很重要，在某些情况下两者可以在同一个项目中使用。